---
layout: post
title: "IsNullOrEmpty() - A Handy Extension Method for IEnumerable<T>"
date: 2008-04-12
comments: false
categories:
 - C#
 - .Net
---

<div class='post'>
<p>Many a time when you are just about to write a foreach loop on your IEnumerable&lt;T&gt; object you need to check whether the object is null or empty in the following manner</p>  <div><span style="color: rgb(0, 0, 255);">if(myEnumerable != null || myEnumerable.Count() &gt; 0)</span></div>  <div><span style="color: rgb(0, 0, 255);">{</span></div>  <blockquote>   <div><span style="color: rgb(0, 0, 255);">foreach(&lt;type&gt; item in myEnumerable)</span></div>    <div><span style="color: rgb(0, 0, 255);">{</span></div>    <div><span style="color: rgb(0, 0, 255);">...</span></div>    <div><span style="color: rgb(0, 0, 255);">}</span></div> </blockquote>  <div><span style="color: rgb(0, 0, 255);">}</span></div>  <p>However, with the advent of Extension methods, you can write one custom extension method like the following -</p>  <p><span style="color: rgb(0, 0, 255);">public static class IEnumerableExtensions  <br />  {   <br />      public static bool IsNullOrEmpty&lt;T&gt;(this IEnumerable&lt;T&gt; instance) where T : class   <br />      {   <br />          return instance == null || instance.Count() == 0;   <br />      }   <br />  }</span></p>  <p><span style="color: rgb(0, 0, 255);">So, you may write the following code instead of the code example presented earlier -</span></p>  <div><span style="color: rgb(0, 0, 255);">if(!myEnumerable.IsNullOrEmpty())</span></div>  <div><span style="color: rgb(0, 0, 255);">{</span></div>  <blockquote>   <div><span style="color: rgb(0, 0, 255);">foreach(&lt;type&gt; item in myEnumerable)</span></div>    <div><span style="color: rgb(0, 0, 255);">{</span></div>    <div><span style="color: rgb(0, 0, 255);">...</span></div>    <div><span style="color: rgb(0, 0, 255);">}</span></div> </blockquote>  <div><span style="color: rgb(0, 0, 255);">}</span></div>  <div><span style="color: rgb(0, 0, 255);"></span></div>  <div><span style="color: rgb(0, 0, 0);">There is simple trick with the Extension Method. That is, extension methods can be invoked even on the objects whose reference is not set to an instance of an object or objects with a null value.</span></div>  <div><span style="color: rgb(0, 0, 0);">So, its perfectly valid to write -</span></div>  <div><span style="color: rgb(0, 0, 255);">List&lt;string&gt; myList = null;</span></div>  <div><span style="color: rgb(0, 0, 255);">Console.WriteLine("myList.IsNullOrEmpty = {0}", myList.IsNullOrEmpty());</span></div>  <div><span style="color: rgb(0, 0, 0);">because, the IsNullOrEmpty() is an extension method and can be invoked on a null referencing object of its target type.</span></div>  <div><span style="color: rgb(0, 0, 255);"></span></div>  <div><span style="color: rgb(0, 0, 255);"> </span></div></div>
