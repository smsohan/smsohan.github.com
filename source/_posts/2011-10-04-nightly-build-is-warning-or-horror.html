---
layout: post
title: "Nightly Build is a Warning (or Horror)"
date: 2011-10-04
comments: false
categories:
 - Continuous Integration
---

<div class='post'>
<div dir="ltr" style="text-align: left;" trbidi="on"><table cellpadding="0" cellspacing="0" class="tr-caption-container" style="float: right; margin-left: 1em; text-align: right;"><tbody><tr><td style="text-align: center;"><a href="http://farm7.static.flickr.com/6167/6175859290_ebca7ae0e3.jpg" imageanchor="1" style="clear: right; margin-bottom: 1em; margin-left: auto; margin-right: auto;"><img border="0" height="225" src="http://farm7.static.flickr.com/6167/6175859290_ebca7ae0e3.jpg" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Photo credits:&nbsp;<span class="Apple-style-span" style="border-collapse: collapse; font-family: Arial, Helvetica, sans-serif; font-size: 12px; line-height: 18px;"><a href="http://www.flickr.com/photos/insidethemagic/" style="color: #0063dc; text-decoration: none;">insidethemagic</a></span></td></tr></tbody></table><br />I think, Nightly build is an anti-pattern for Continuous Integration. If you are integrating continuously, then you shouldn't need a nightly build, that would be too discrete :(<br /><br />If you already have a per-commit continuous integration setup, you shouldn't need the so called nightly build unless there's something bad about the code.<br /><br />Often times, builds taking &gt;10 minutes are put in the bucket of nightly builds.<br />Some people put batch processing related tests under such nightly builds. A colleague told me they used nightly build to clean up resources (disk space, recreate the database etc.) on a nightly build - to ensure the apps worked fine on a fresh state.<br /><blockquote>Under most circumstances, a nighly build means something long running. That in itself can be an indication of poor performance.</blockquote>But what I have seen is, when such nightly builds are broken - they are rarely looked after or cared for. Because, first thing in the morning, who the hell wants to look at that broken nightly build? Even if someone takes a look, since its long running, it might well eat up all morning to actually try/fix/commit changes and see it go green again! Since it takes longer to make the build green, people keep delaying it for later... meaning<br /><blockquote>it becomes generally acceptable to let the nightly build stay in RED.&nbsp;</blockquote>And once people get used the redness of the nightly build, they start ignoring it, inevitably.<br /><br />So, here's what I would do:<br /><blockquote>Avoid nightly builds altogether.<br />Avoid nightly builds altogether.<br />Avoid nightly builds altogether.<br />Otherwise, make one person from the team responsible for the build (rotate people).</blockquote><div><br /></div></div></div>
