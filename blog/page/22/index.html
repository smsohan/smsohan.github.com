
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Sohan's Blog</title>
  <meta name="author" content="SM Sohan">

  
  <meta name="description" content="Many a time when you are just about to write a foreach loop on your IEnumerable&lt;T&gt; object you need to check whether the object is null or &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://smsohan.com/blog/page/22/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="" rel="alternate" title="Sohan's Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37549931-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Sohan's Blog</a></h1>
  
    <h2>Things I'm Learning</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:smsohan.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/home">Home</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/lifeline">Lifeline!</a></li>
  <li><a href="/blog/2013/04/05/call-me-sohan-and-ask-me-not-about-sm/">Call me Sohan!</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/12/isnullorempty-handy-extension-method/">IsNullOrEmpty() - a Handy Extension Method for IEnumerable<T></a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-12T00:00:00-06:00" pubdate data-updated="true">Apr 12<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>Many a time when you are just about to write a foreach loop on your IEnumerable&lt;T&gt; object you need to check whether the object is null or empty in the following manner</p>  <div><span style="color: rgb(0, 0, 255);">if(myEnumerable != null || myEnumerable.Count() &gt; 0)</span></div>  <div><span style="color: rgb(0, 0, 255);">{</span></div>  <blockquote>   <div><span style="color: rgb(0, 0, 255);">foreach(&lt;type&gt; item in myEnumerable)</span></div>    <div><span style="color: rgb(0, 0, 255);">{</span></div>    <div><span style="color: rgb(0, 0, 255);">&#8230;</span></div>    <div><span style="color: rgb(0, 0, 255);">}</span></div> </blockquote>  <div><span style="color: rgb(0, 0, 255);">}</span></div>  <p>However, with the advent of Extension methods, you can write one custom extension method like the following -</p>  <p><span style="color: rgb(0, 0, 255);">public static class IEnumerableExtensions  <br />  {   <br />      public static bool IsNullOrEmpty&lt;T&gt;(this IEnumerable&lt;T&gt; instance) where T : class   <br />      {   <br />          return instance == null || instance.Count() == 0;   <br />      }   <br />  }</span></p>  <p><span style="color: rgb(0, 0, 255);">So, you may write the following code instead of the code example presented earlier -</span></p>  <div><span style="color: rgb(0, 0, 255);">if(!myEnumerable.IsNullOrEmpty())</span></div>  <div><span style="color: rgb(0, 0, 255);">{</span></div>  <blockquote>   <div><span style="color: rgb(0, 0, 255);">foreach(&lt;type&gt; item in myEnumerable)</span></div>    <div><span style="color: rgb(0, 0, 255);">{</span></div>    <div><span style="color: rgb(0, 0, 255);">&#8230;</span></div>    <div><span style="color: rgb(0, 0, 255);">}</span></div> </blockquote>  <div><span style="color: rgb(0, 0, 255);">}</span></div>  <div><span style="color: rgb(0, 0, 255);"></span></div>  <div><span style="color: rgb(0, 0, 0);">There is simple trick with the Extension Method. That is, extension methods can be invoked even on the objects whose reference is not set to an instance of an object or objects with a null value.</span></div>  <div><span style="color: rgb(0, 0, 0);">So, its perfectly valid to write -</span></div>  <div><span style="color: rgb(0, 0, 255);">List&lt;string&gt; myList = null;</span></div>  <div><span style="color: rgb(0, 0, 255);">Console.WriteLine(&#8220;myList.IsNullOrEmpty = {0}&#8221;, myList.IsNullOrEmpty());</span></div>  <div><span style="color: rgb(0, 0, 0);">because, the IsNullOrEmpty() is an extension method and can be invoked on a null referencing object of its target type.</span></div>  <div><span style="color: rgb(0, 0, 255);"></span></div>  <div><span style="color: rgb(0, 0, 255);"> </span></div></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/09/best-rss-feed-i-have-read-today/">Best RSS Feed I Have Read Today</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-09T00:00:00-06:00" pubdate data-updated="true">Apr 9<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>Many a times, if feels great to know about the online users and some more details about them when they are on your website. This article gives you the code example to achieve this in your ASP.Net application.</p>  <p><a title="http://www.aspdotnetfaq.com/Faq/How-to-get-detailed-info-about-all-online-visitors-that-are-currently-browsing-your-ASP-NET-website.aspx" href="http://www.aspdotnetfaq.com/Faq/How-to-get-detailed-info-about-all-online-visitors-that-are-currently-browsing-your-ASP-NET-website.aspx">http://www.aspdotnetfaq.com/Faq/How-to-get-detailed-info-about-all-online-visitors-that-are-currently-browsing-your-ASP-NET-website.aspx</a></p></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/08/posts-of-day-that-i-liked-most/">Posts of the Day That I Liked Most</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-08T00:00:00-06:00" pubdate data-updated="true">Apr 8<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>1. The Monostate Pattern - Another way to look into Singleton and some improvement over singleton issues.</p>  <p>Read it <a href="http://www.codethinked.com/post/2008/04/The-Monostate-pattern.aspx">Here</a></p>  <p>2. Another good article on LINQ regarding the grouping queries. Read it <a href="http://www.codethinked.com/post/2008/04/Grouping-Linq-Aggregates-in-C.aspx">Here</a></p></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/07/logging-linq-to-sql-generated-sql/">Logging the LINQ to SQL Generated SQL Queries/Commands</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-07T00:00:00-06:00" pubdate data-updated="true">Apr 7<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>I was looking for logging solutions for the generated SQL in one of my projects where I am using LINQ to SQL. I found that sometimes the the Exceptions and StackTrace information does not say much about what&#8217;s really causing the problem with LINQ to SQL queries/commands.</p>  <p>To see the actual SQL that&#8217;s generated from LINQ you may write a code like the following-</p>  <blockquote>   <p></p>    <ol>     <li><span style="color: rgb(29, 54, 231);font-family:courier new;">SampleDataContext context = new SampleDataContext();</span> </li>      <li>//You may wish to use any subclass of System.IO.TextWriter in place of Console.out </li>      <li><span style="color: rgb(29, 54, 231);font-family:courier new;">context.Log = Console.Out;</span> </li>      <li><span style="color: rgb(29, 54, 231);font-family:courier new;">Session session = new Session</span> </li>      <li><span style="color: rgb(29, 54, 231);font-family:courier new;">{</span> </li>      <li><span style="color: rgb(29, 54, 231);font-family:courier new;">SessionID = Guid.NewGuid().ToString(),</span> </li>      <li><span style="color: rgb(29, 54, 231);font-family:courier new;">Site = &#8220;Google&#8221;,</span> </li>      <li><span style="color: rgb(29, 54, 231);font-family:courier new;">StartTime = DateTime.Now</span> </li>      <li><span style="color: rgb(29, 54, 231);font-family:courier new;">};</span> </li>      <li><span style="color: rgb(29, 54, 231);font-family:courier new;">context.Sessions.InsertOnSubmit(session);</span> </li>      <li><span style="color: rgb(29, 54, 231);font-family:courier new;">context.SubmitChanges();</span> </li>   </ol> </blockquote>  <p>And when run, a log message like the following will be shown in your console. </p>  <p><span style="color: rgb(6, 125, 189);">INSERT INTO [dbo].[Sessions]([SessionID], [StartTime], [Site], [UserHostAddress]    <br />, [Url], [UserAgent], [UrlReferrer])     <br />VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)     <br />&#8211; @p0: Input VarChar (Size = 36; Prec = 0; Scale = 0) [0522d634-d9e6-43c6-985e-     <br />69c61090b5c4]     <br />&#8211; @p1: Input SmallDateTime (Size = 0; Prec = 0; Scale = 0) [4/7/2008 3:28:02 PM     <br />]     <br />&#8211; @p2: Input VarChar (Size = 6; Prec = 0; Scale = 0) [Google]     <br />&#8211; @p3: Input VarChar (Size = 0; Prec = 0; Scale = 0) [Null]     <br />&#8211; @p4: Input VarChar (Size = 0; Prec = 0; Scale = 0) [Null]     <br />&#8211; @p5: Input VarChar (Size = 0; Prec = 0; Scale = 0) [Null]     <br />&#8211; @p6: Input VarChar (Size = 0; Prec = 0; Scale = 0) [Null]     <br />&#8211; Context: SqlProvider(Sql2005) Model: AttributedMetaModel Build: 3.5.21022.8</span></p>  <p>Well, I know you guys are not just writing Console Applications like me (!) and need something better to be worthy. You may visit the following links for more-</p>  <ol>   <li>To use Log4Net for capturing the log data, <a href="http://devintelligence.com/blogs/netadventures/archive/2008/01/26/sending-the-linq-to-sql-log-to-log4net.aspx">this</a> is a simple yet useful implementation. </li>    <li>As usual, don&#8217;t forget to take a look at <a href="http://msdn2.microsoft.com/en-us/library/system.data.linq.datacontext.log.aspx">this</a> MSDN page for more on this. </li> </ol></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/07/creating-instances-of-internal-classes/">Creating Instances of Internal Classes Using Spring.Net</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-07T00:00:00-06:00" pubdate data-updated="true">Apr 7<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<blockquote>   <p>Creating an instance of an internal class using Spring.Net is a little tricky. I know that, you can achieve this by adding an InternalsVisibleTo attribute to your assembly. However, the following solution also works as desired.</p>    <p>Say, you have an namespace named SampleClasses that contains the a public interface named &#8216;IPublicInterface&#8217; and also an internal class named &#8216;InternalClass&#8217; that implements the IPublicInterface interface and looks like the following - </p> </blockquote>  <div   style="border: 1px solid gray; margin: 20px 0px 10px; padding: 4px; overflow: auto; width: 97.5%; cursor: text; max-height: 200px; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;">   <div   style="border-style: none; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;">     <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   1:</span> <span style="color: rgb(0, 0, 255);">namespace</span> SampleClasses</pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   2:</span> {</pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   3:</span>     <span style="color: rgb(0, 0, 255);">public</span> <span style="color: rgb(0, 0, 255);">interface</span> IPublicInterface</pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   4:</span>     {</pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   5:</span>         <span style="color: rgb(0, 0, 255);">string</span> SayHello();</pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   6:</span>     }</pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   7:</span> }</pre><br /></div><br /></div><br /><br /><div   style="border: 1px solid gray; margin: 20px 0px 10px; padding: 4px; overflow: auto; width: 97.5%; cursor: text; max-height: 200px; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><br /><div   style="border-style: none; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   1:</span> <span style="color: rgb(0, 0, 255);">internal</span> <span style="color: rgb(0, 0, 255);">class</span> InternalClass : IPublicInterface</pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   2:</span> {</pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   3:</span>  </pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   4:</span>     <span style="color: rgb(204, 102, 51);">#region</span> IPublicInterface Members</pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   5:</span>  </pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   6:</span>     <span style="color: rgb(0, 0, 255);">public</span> <span style="color: rgb(0, 0, 255);">string</span> SayHello()</pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   7:</span>     {</pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   8:</span>         <span style="color: rgb(0, 0, 255);">return</span> <span style="color: rgb(0, 96, 128);">"Hello, World!"</span>;</pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   9:</span>     }</pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">  10:</span>  </pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">  11:</span>     <span style="color: rgb(204, 102, 51);">#endregion</span></pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">  12:</span> }</pre><br /></div><br /></div><br /><br /><p>And also, you have an xml configuration file named &#8216;SampleClasses.Spring.xml&#8217; containing your object definition for InternalClass and looks like the following one -</p><br /><br /><div   style="border: 1px solid gray; margin: 20px 0px 10px; padding: 4px; overflow: auto; width: 97.5%; cursor: text; max-height: 200px; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><br /><div   style="border-style: none; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   1:</span> &lt;objects xmlns=<span style="color: rgb(0, 96, 128);">"http://www.springframework.net"</span>&gt;</pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   2:</span>   &lt;<span style="color: rgb(0, 0, 255);">object</span> id=<span style="color: rgb(0, 96, 128);">"internalClass"</span></pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   3:</span>           type=<span style="color: rgb(0, 96, 128);">"SampleClasses.InternalClass, SampleClasses"</span></pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   4:</span>           &gt;    </pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   5:</span>   &lt;/<span style="color: rgb(0, 0, 255);">object</span>&gt;</pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   6:</span> &lt;/objects&gt;</pre><br /></div><br /></div><br /><br /><p>Now, you need to make sure the following are true -</p><br /><br /><p>1. &#8216;SampleClasses.Spring.xml is compiled as an embedded resource with the assembly that holds the InternalClass class and also in the same namespace. To ensure this, right click the XML file, select Properties and Select Embedded Resource in the Build Action.</p><br /><br /><p>2. In your App.Config (or Web.Config, for web applications), add the following XML declarations to add the embedded XML file - </p><br /><br /><div   style="border: 1px solid gray; margin: 20px 0px 10px; padding: 4px; overflow: auto; width: 97.5%; cursor: text; max-height: 200px; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><br /><div   style="border-style: none; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   1:</span> &lt;configuration&gt;</pre><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   2:</span>   &lt;configSections&gt;</pre><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   3:</span>   &lt;sectionGroup name=<span style="color: rgb(0, 96, 128);">"spring"</span>&gt;</pre><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   4:</span>     &lt;section name=<span style="color: rgb(0, 96, 128);">"context"</span> type=<span style="color: rgb(0, 96, 128);">"Spring.Context.Support.ContextHandler, Spring.Core, Version=1.1.0.2, Culture=neutral, PublicKeyToken=65e474d141e25e07"</span>/&gt;</pre><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   5:</span>     &lt;section name=<span style="color: rgb(0, 96, 128);">"objects"</span> type=<span style="color: rgb(0, 96, 128);">"Spring.Context.Support.DefaultSectionHandler, Spring.Core, Version=1.1.0.2, Culture=neutral, PublicKeyToken=65e474d141e25e07"</span>/&gt;</pre><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   6:</span>   &lt;/sectionGroup&gt;</pre><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   7:</span>   &lt;/configSections&gt;</pre><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   8:</span>   </pre><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   9:</span>    &lt;spring&gt;</pre><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">  10:</span>     &lt;!-- Define the context : identify the source from <span style="color: rgb(0, 0, 255);">where</span> it gets its resources--&gt;</pre><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">  11:</span>     &lt;context&gt;</pre><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">  12:</span>       &lt;resource uri=<span style="color: rgb(0, 96, 128);">"assembly://SampleClasses/SampleClasses/SampleClasses.Spring.xml"</span>/&gt;      </pre><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">  13:</span>     &lt;/context&gt;</pre><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">  14:</span>   &lt;/spring&gt;</pre><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">  15:</span> &lt;/configuration&gt;</pre><br /></div><br /></div><br /><br /><p>Now, that you have everything ready you can simply write the following code segment to access create an instance of the internal class and hold it through the IPublicInterface as shown below-</p><br /><br /><div   style="border: 1px solid gray; margin: 20px 0px 10px; padding: 4px; overflow: auto; width: 97.5%; cursor: text; max-height: 200px; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><br /><div   style="border-style: none; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   1:</span> <span style="color: rgb(0, 0, 255);">string</span> id = <span style="color: rgb(0, 96, 128);">"internalClass"</span>;            </pre><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   2:</span>             IPublicInterface obj = ContextRegistry.GetContext().GetObject(id) <span style="color: rgb(0, 0, 255);">as</span> IPublicInterface;</pre><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   3:</span>             Console.WriteLine(<span style="color: rgb(0, 96, 128);">"Hello = {0}"</span>, obj.SayHello());</pre><br /></div><br /></div><br /><br /><p>So, you see that its simple way to create an instance of an internal type using Spring.Net given that the internal type is the type of a public Interface. If this assumption is not true, then probably you are not following the best OO designs, where you need to create instances of types that are only supposed to be internal to a namespace.</p><br /><br /><p>Wish it helps some of you. Send me a comment if you need the full source code and project.</p></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/06/my-first-post-using-windows-live-writer/">My First Post Using Windows Live Writer</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-06T00:00:00-06:00" pubdate data-updated="true">Apr 6<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>I came to know about this cool writer very recently and was waiting to take a look at this editor. Now that I am writing a blog entry from this editor, I feel like its really making my life easy.</p>  <p><a href="http://lh4.google.com/sohan39/R_ibwQTK2hI/AAAAAAAAABQ/zpBUxIdQ_5o/image%5B6%5D.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="437" alt="image" src="http://lh6.google.com/sohan39/R_ibxwTK2iI/AAAAAAAAABc/_Im9V7HK5Ko/image_thumb%5B4%5D.png" width="683" border="0" /></a> </p>  <p>Well, for a head start, I just hit the print screen button followed by a ctrl-V and this is what you see! It&#8217;s lot more fun to edit in this editor!</p>  <p>I recommend you all to try this and also let me know if you are using an editor more cool that this :-)</p>  </div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/03/25/my-mcts-certification/">My MCTS Certification</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-03-25T00:00:00-06:00" pubdate data-updated="true">Mar 25<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Today I have appeared at the MCTS Exam # 70-528 (Web Based Client Development) and successfully passed the exam. I also appeared at another exam # 70-536 (Microsoft .Net Framework) and successfully passed in that exam too.<br /><br />Although, I haven&#8217;t got the MCP website access information yet, I can now possibly be called a &#8216;Microsoft Certified Technology Specialist&#8217;!</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/03/20/solution-to-problem-with-creating-mocks/">A Solution to the Problem With Creating Mocks for Interfaces With Generic Methods With NMock</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-03-20T00:00:00-06:00" pubdate data-updated="true">Mar 20<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
I was so happy with NMock to see how it can dynamically generate mocks of interfaces and also gives me a fluent interface to write expectations and everything it does to help me in unit testing!<br /><br />However, I could not generate dynamic mocks for interfaces with Generic methods and it kept showing me the &#8216;TypeLoadException&#8217; on and on. My interface looks like the following -<br /><br /><span style="font-family:courier new;"><span style="color: rgb(51, 51, 255);">interface </span>IObjectFactory</span><br /><span style="font-family:courier new;">{</span><br /><span style="font-family:courier new;">    T    GetObject</span><t><span style="font-family:courier new;">(<span style="color: rgb(51, 51, 255);">string </span>id);</span><br /><span style="font-family:courier new;">}</span><br /><br />As I failed to create a mock implementation of this interface using NMock, I just wrote a mock implementation myself, which looks like the following<br /><br /><span style="font-family:courier new;"><span style="color: rgb(51, 51, 255);">class </span><span style="color: rgb(51, 204, 255);">MockObjectFactory</span>: <span style="color: rgb(51, 204, 255);">IObjectFactory</span></span><br /><span style="font-family:courier new;">{</span><br /><span style="font-family:courier new;">    <span style="color: rgb(51, 51, 255);">    public </span><span style="color: rgb(51, 204, 255);">Type </span>RequestedObjectType;</span><br /><span style="font-family:courier new;">    <span style="color: rgb(51, 51, 255);">    public </span>string RequestedObjectId;</span><br /><span style="font-family:courier new;">    public T    GetObject</span><t><span style="font-family:courier new;">(string id)</span><br /><span style="font-family:courier new;">        {</span><br /><span style="font-family:courier new;">                RequestedObjectType = typeof(T);</span><br /><span style="font-family:courier new;">        RequestedObjectId = id;</span><br /><span style="font-family:courier new;">        return new Mockery().NewMock</span><t><span style="font-family:courier new;">();</span><br /><span style="font-family:courier new;">    }</span><br /><span style="font-family:courier new;">}</span><br /><br /><br />And in my test code, just injected the above mock implementation of the IObjectFactory where needed. So, although NMock cannot handle mocking of this type of an interface now, you can actually create a mock implementation and use NMock inside the implementation to help you.</t></t></t></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/03/18/verify-correct-datetime-data-in-method/">Verify Correct DateTime Data in Method Call Using NMock</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-03-18T00:00:00-06:00" pubdate data-updated="true">Mar 18<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Recently I was writing unit test for a method of the following signature<br /><br /><span style="color: rgb(0, 0, 255);font-family:Courier New;">interface <span style="color: rgb(61, 133, 198);">ICache</span><br /><span style="color: rgb(0, 0, 0);">{</span><br /> void </span><span style="font-family:Courier New;">Insert(</span><span style="color: rgb(0, 0, 255);font-family:Courier New;">string </span><span style="font-family:Courier New;">key, </span><span style="color: rgb(0, 0, 255);font-family:Courier New;">object </span><span style="font-family:Courier New;">value, </span><span style="color: rgb(61, 133, 198);font-family:Courier New;">DateTime</span><span style="font-family:Courier New;"> absoluteExpiration, </span><span style="color: rgb(111, 168, 220);font-family:Courier New;">TimeSpan</span><span style="font-family:Courier New;"> slidingExpiration);<br />}<br /><br /><span style="font-family:Verdana;">and I wanted to verify the following call -</span><br /><br />Insert(<span style="color: rgb(102, 0, 0);">&#8220;key&#8221;</span>, <span style="color: rgb(102, 0, 0);">&#8220;value&#8221;</span>, <span style="color: rgb(61, 133, 198);">DateTime</span>.Now.AddMinutes(30), <span style="color: rgb(111, 168, 220);">TimeSpan</span>.Zero);<br /><br /><br /><span style="font-family:Verdana;">However, you readily see the problem in verifying with the above call for the presence of </span></span><span style="font-family:Courier New;"><span style="color: rgb(61, 133, 198);font-family:Verdana;">DateTime</span><span style="font-family:Verdana;">.Now.AddMinutes(30) in the argument. So, a test method like the following won&#8217;t work for obvious reason.</span><br /><span style="color: rgb(61, 133, 198);">ICache </span>cache = _mocks.NewMock&lt;<span style="color: rgb(61, 133, 198);">ICache</span>&gt;();<br /><span style="color: rgb(61, 133, 198);">Expect</span>.Once.On(cache).Method(&#8220;Insert&#8221;).With(<span style="color: rgb(204, 0, 0);">&#8220;key&#8221;</span>, <span style="color: rgb(204, 0, 0);">&#8220;value&#8221;</span>, DateTime.Now.AddMinutes(30), TimeSpan.Zero);<br /></span><br /><br /><span style="font-family:Verdana;">The reason that the above sample code wont work is, my test code called DateTime.Now.AddMinutes(30) before the production code actually did it. So, it is highly probable that the two version of DateTime.Now.AddMinutes(30) in the test code and production code are not same.<br /><br />To find a work around to this problem, I changed my assumption a little. I set my assumption that the value for the &#8217;</span><span style="font-family:Courier New;"><span style="font-family:Verdana;">absoluteExpiration&#8217; parameter must lie in between 29 and 31 minutes from now. So, I modified my test method like the following call-</span><br /><br /><span style="color: rgb(11, 83, 148);">Expect</span>.Once.On(cache).Method(<span style="color: rgb(204, 0, 0);">&#8220;Insert&#8221;</span>).With(<span style="color: rgb(204, 0, 0);">&#8220;key&#8221;</span>, <span style="color: rgb(204, 0, 0);">&#8220;value&#8221;</span>, Is.NotNull &amp; Is.AtLeast(DateTime.Now.AddMinutes(29)) &amp; Is.AtMost(DateTime.Now.AddMinutes(31)), TimeSpan.Zero);<br /><br /><span style="font-family:Verdana;">This advanced level of NMock usage may show you a way in similar needs. For more insight to this solution, you may wish to visit </span><a style="font-family: Verdana;" title="http://nmock.org/advanced.html" target="_blank" href="http://nmock.org/advanced.html" id="bo.8">http://nmock.org/advanced.html</a><br /><br /><br /></span><span style="font-family:Courier New;"><br /></span></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/03/16/mock-internal-interface-with-nmock2-use/">Mock Internal Interface With NMock2 - Use InternalsVisibleToAttribute</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-03-16T00:00:00-06:00" pubdate data-updated="true">Mar 16<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Yesterday I badly needed to create mocks for my internal interfaces. I am using NMock2 as a Mocking framework and found it really difficult to produce Mocks for internal interfaces. After some &#8216;google time&#8217; and investigation I found that you need the following two lines in your AssemblyInfo.cs to achieve this purpose-<br /><br /><span style="font-family:courier new;">[<span style="color: rgb(51, 51, 255);">assembly<span style="color: rgb(0, 0, 0);">:</span></span> <span style="color: rgb(0, 204, 204);">InternalsVisibleTo</span>(<span style="color: rgb(153, 0, 0);">&#8220;Mocks&#8221;</span>)]</span><br /><span style="font-family:courier new;">[<span style="color: rgb(51, 51, 255);">assembly<span style="color: rgb(0, 0, 0);">:</span></span> <span style="color: rgb(0, 204, 204);">InternalsVisibleTo</span>(<span style="color: rgb(153, 0, 0);">&#8220;MockObjects&#8221;</span>)]<br /><br /><span style="font-family:verdana;">Where are the two assemblies? I found that these two assemblies are dynamically created by NMock2 for mocking your interfaces.</span><br /><br /><span style="font-family:verdana;">To find out the truth yourself, just put a breakpoint and watch the value of the following line-<br /><br /></span><span style="color: rgb(0, 204, 204);">AppDomain</span>.CurrentDomain.GetAssemblies()<br /><br /><span style="font-family:verdana;">You should see the two assemblies in the list of the assemblies in the current application domain.</span><br /><br /><span style="font-family:verdana;">I found it interesting. I wish someone of you might find it useful too!</span><br /><br /><span style="font-family:verdana;">Note: You may still need to add InternalsVisibleTo attribute for your test assembly with the above two declarations.</span><br /></span></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Urs</div>
<div class='content'>
I&#8217;ll add this information to the documentation I&#8217;m currently writing for NMock2 (http://sourceforge.net/projects/nmock2/)<BR/><BR/>Happy mocking<BR/>Urs</div>
</div>
</div>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/23/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/21/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2020/12/24/you-are-unfrogettable/">You are Unfrogattable</a>
      </li>
    
      <li class="post">
        <a href="/blog/2020/12/07/tribute-to-rails-date-time-great-invisible-design/">A Tribute to Time Travel APIs in Ruby on Rails</a>
      </li>
    
      <li class="post">
        <a href="/blog/2020/11/28/tips-for-developer-demos/">Tips for Great Developer Demos</a>
      </li>
    
      <li class="post">
        <a href="/blog/2020/11/18/where-to-learn/">Where to Learn: 10 Ways I Do</a>
      </li>
    
      <li class="post">
        <a href="/blog/2020/11/12/learn-to-get-and-give-feedback/">Learn to Get and Give Feedback</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>LinkedIn Profile</h1>
  <p>
    <a href="http://www.linkedin.com/in/sohan">SM Sohan</a>
  </p>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/smsohan">@smsohan</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'smsohan',
            count: ,
            skip_forks: ,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2020 - SM Sohan -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
