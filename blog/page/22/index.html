
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Sohan's Blog</title>
  <meta name="author" content="SM Sohan">

  
  <meta name="description" content="Sometimes you have written long running stored procedures and you need to invoke the stored procedures through your LINQ to SQL class. By default &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://smsohan.com/blog/page/22/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="" rel="alternate" title="Sohan's Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37549931-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Sohan's Blog</a></h1>
  
    <h2>Things I'm Learning</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:smsohan.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/home">Home</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/lifeline">Lifeline!</a></li>
  <li><a href="/blog/2013/04/05/call-me-sohan-and-ask-me-not-about-sm/">Call me Sohan!</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/29/how-to-set-default-application-wide/">How to Set Default Application Wide CommandTimeout in LINQ to SQL DataContext Subclasses</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-29T00:00:00-06:00" pubdate data-updated="true">Apr 29<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>Sometimes you have written long running stored procedures and you need to invoke the stored procedures through your LINQ to SQL class. By default the SqlCommand has a timeout value of 30 seconds and in some instances you may need a longer value to complete your long running database operations. In a situation like this, if you are using the default time out value, you may encounter the following exception scenario,</p>  <p><span style="color:#ff0000;">Error: System.Data.SqlClient.SqlException: Timeout expired</span></p>  <p>Today I was looking for a solution after I encountered the above exception. In my project I am using LINQ to SQL classes to execute my stored procedures which sometimes may exceed the 30 seconds timeout value to complete the operations. I wanted to set the default timeout for my LINQ to SQL <span style="color:#12bbf3;">DataContext</span> subclass generated by Visual Studio 2008 and wanted a clean approach. I came up with the following solution and think it may help some of you with similar needs.</p>  <p>Firstly, I can set the command timeout in the following way,</p>  <p><span style="font-family:Courier New;"><span style="color:#2eb3ba;">MyDataContext</span> context = new <span style="color:#2eb3ba;">MyDataContext</span>();</span></p>  <p><span style="font-family:Courier New;">context.CommandTimeout = 300; //Value in seconds</span></p>  <p>However, if I do it this way, then I need to do it at every place where I want the timeout value to be changed from the default value of 30 seconds. And I wanted to avoid this annoying approach. Fortunately, the auto generated DataContext subclass provides me a very simple way to get around to this problem through partial methods.</p>  <p>If you take a look into the auto generated <span style="color:#2eb3ba;">DataContext</span> subclass&#8217;s code, you will notice the presence of the following partial methods at the top-</p>  <p><span style="font-family:Courier New;">#region Extensibility Method Definitions    <br /><span style="color:#0000ec;">partial void</span> OnCreated();</span></p>  <p><span style="font-family:Courier New;color:#008040;">//Some other partial Methods depending on your db</span></p>  <p><span style="font-family:Courier New;">#endregion</span></p>  <p>This <span style="font-family:Courier New;">OnCreated()</span> method is placed to provide you extensibility with the context constructor logic. Anytime you invoke any one of the constructors of your <span style="color:#1ec5d2;">DataContext</span> subclass, this method is called. However, since this is a partial method without a body, this call has no effect unless I define the body myself!</p>  <p>So, we are going to utilize this method. To do so, we will write another partial class along with this generated partial class (the one at the *.designer.cs file) and implement the partial void OnCreated() method in our newly added partial class where we will set our desired <span style="color:#1ec5d2;">CommandTimeout</span> value.</p>  <p><span style="font-family:Courier New;">public partial class <span style="color:#1ec5d2;">MyDataContext</span> : System.Data.Linq.<span style="color:#1ec5d2;">DataContext</span>     <br />{     <br />    partial void OnCreated()     <br />    {     <br /><span style="color:#37e1d9;">        </span><span style="color:#1e6907;">//Set the timeout value to 300 = 5 Min.      <br /></span>        <span style="color:#1217f3;">base</span>.CommandTimeout = 300;     <br />    }     <br />}</span></p>  <p>So, we just set the value of CommandTimeout Property of the base <span style="color:#1ec5d2;">DataContext</span> class with just the addition of this new partial class. Also, we got rid of the annoying &#8216;change everywhere&#8217; scenario in this approach. Thanks to the creators of the code generator, who were wise enough to foresee our needs, for providing us with a way to take such a clean approach!</p>  <p>By the way, I was interested to see a handy use of the partial method in C# ever since I first learned about it. I am happy that, I found a real life use myself!</p></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
thanks for thw simple solution of timeout problem,i was trying to use async thread but this is more simple.</div>
</div>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
cool, will keep trying to get more info on that.<br /><br />BTW my hunch is that it&#39;s unlikely that these things differ when i use c#.</div>
</div>
<div class='comment'>
<div class='author'>Sohan</div>
<div class='content'>
Its hard to say why. Make sure you are using the right partial class, in the right namespace and the method name is actually the name of the partial method that is called from the auto generated class.<br /><br />Your VB code looks good to me otherwise.</div>
</div>
<div class='comment'>
<div class='author'>Anonymous</div>
<div class='content'>
Can you please help me with the VB version as well<br /><br />I tried converting this code into VB and these are the results<br />Partial Class SampleDBDataContext<br /> Inherits System.Data.Linq.DataContext<br /> Private Partial Sub OnCreated()<br />  &#39;Put your desired timeout here.<br />  Me.CommandTimeout = 3600<br /><br />  &#39;If you do not want to hard code it, then take it <br />  &#39;from Application Settings / AppSettings<br />  &#39;this.CommandTimeout = Settings.Default.CommandTimeout;<br /> End Sub<br />End Class<br /><br />This doesnt seem to work, any clues?</div>
</div>
<div class='comment'>
<div class='author'>D4rkTiger</div>
<div class='content'>
Hello,<br /><br />I read your article but I can&#39;t realize the solution it should be given.<br /><br />Could you please help me to implement your solution ? How do you specify your new DataContext to the LINQ request ?<br /><br />Thanks</div>
</div>
<div class='comment'>
<div class='author'>hussain</div>
<div class='content'>
Thanks u so much</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/16/stringgetvalueordefault-simple/">string.GetValueOrDefault() - a Simple Extension Method</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-16T00:00:00-06:00" pubdate data-updated="true">Apr 16<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>I have found that, I have written codes like the following one in my projects before now at some places.</p>  <p><span style="font-family:Courier New;color:#000080;">string myString = someString == null ? string.Empty : someString;</span></p>  <p>However, with the advent of extension methods in C# 3.0 (.Net 3.5), I have a better way of achieving this goal in my projects. So, I just wrote an extension method as the following one-</p>  <p><span style="font-family:Courier New;color:#000080;">public static class StringExtensions   <br />   {    <br />       public static string GetValueOrDefault(this string instance)    <br />       {    <br />           return instance == null ? string.Empty : instance;    <br />       }    <br />   }</span></p>  <p><span style="font-family:verd;color:#3c3c3c;">Well, I have just borrowed the name of the method from the Nullable type and think this name means its purpose to the fullest!</span></p>  <p>However, with this addition, I can now rewrite my code example as the following one-</p>  <p><span style="font-family:Courier New;color:#000080;">string myString = someString.GetValueOrDefault();</span></p>  <p><span style="font-family:Courier New;color:#000080;">Happy coding!</span></p></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/14/best-of-today-rss-from-my-daily-feeds/">Best of Today&#8217;s RSS From My Daily Feeds</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-14T00:00:00-06:00" pubdate data-updated="true">Apr 14<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>1. If using LINQ gives you a great feeling, then I suggest you to read this post (to make it feel even better) where you learn about a less used keyword called &#8216;let&#8217; to make your LINQ queries more readable and human friendly.</p>  <p><a title="http://www.codethinked.com/post/2008/04/The-Linq-quot3bletquot3b-keyword.aspx" href="http://www.codethinked.com/post/2008/04/The-Linq-quot3bletquot3b-keyword.aspx">http://www.codethinked.com/post/2008/04/The-Linq-quot3bletquot3b-keyword.aspx</a></p>  </div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/12/my-today-best-rss-feeds/">My Today&#8217;s Best RSS Feeds</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-12T00:00:00-06:00" pubdate data-updated="true">Apr 12<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>1. Well, we have a CI in place and we are also very excited to see a new notification message coming to our email inbox on a commit from our team members. CruiseControl.Net really made is fun and so easy to be really continuously integrating our projects.</p>  <p>However, I didn&#8217;t know of this cool feature until I read this article. I suggest you all CruiseControl.Net cruisers to take a look -</p>  <p><a title="http://www.sharpregion.com/post/Fun-with-Continuous-Integration-BILTONS.aspx" href="http://www.sharpregion.com/post/Fun-with-Continuous-Integration-BILTONS.aspx">http://www.sharpregion.com/post/Fun-with-Continuous-Integration-BILTONS.aspx</a></p>  <p>2. Good example of how to use Extension methods to save your efforts when it comes to write custom events and event handlers in your app. I suggest you to read this article for .net 3.5 way to ease in creating events and event handlers -</p>  <p><a title="http://www.sharpregion.com/post/Events2c-Generics-and-Extension-Methods.aspx" href="http://www.sharpregion.com/post/Events2c-Generics-and-Extension-Methods.aspx">http://www.sharpregion.com/post/Events2c-Generics-and-Extension-Methods.aspx</a></p>  <p>3. If you are implementing a factory method in your application and not using any dependency injection framework like Spring.Net, Unity you may use this simple code in this link create your light weight object factory easily -</p>  <p><a title="http://forums.microsoft.com/MSDN/ShowPost.aspx?PostID=3161731&amp;SiteID=1" href="http://forums.microsoft.com/MSDN/ShowPost.aspx?PostID=3161731&amp;SiteID=1">http://forums.microsoft.com/MSDN/ShowPost.aspx?PostID=3161731&amp;SiteID=1</a></p></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/12/isnullorempty-handy-extension-method/">IsNullOrEmpty() - a Handy Extension Method for IEnumerable<T></a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-12T00:00:00-06:00" pubdate data-updated="true">Apr 12<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>Many a time when you are just about to write a foreach loop on your IEnumerable&lt;T&gt; object you need to check whether the object is null or empty in the following manner</p>  <div><span style="color: rgb(0, 0, 255);">if(myEnumerable != null || myEnumerable.Count() &gt; 0)</span></div>  <div><span style="color: rgb(0, 0, 255);">{</span></div>  <blockquote>   <div><span style="color: rgb(0, 0, 255);">foreach(&lt;type&gt; item in myEnumerable)</span></div>    <div><span style="color: rgb(0, 0, 255);">{</span></div>    <div><span style="color: rgb(0, 0, 255);">&#8230;</span></div>    <div><span style="color: rgb(0, 0, 255);">}</span></div> </blockquote>  <div><span style="color: rgb(0, 0, 255);">}</span></div>  <p>However, with the advent of Extension methods, you can write one custom extension method like the following -</p>  <p><span style="color: rgb(0, 0, 255);">public static class IEnumerableExtensions  <br />  {   <br />      public static bool IsNullOrEmpty&lt;T&gt;(this IEnumerable&lt;T&gt; instance) where T : class   <br />      {   <br />          return instance == null || instance.Count() == 0;   <br />      }   <br />  }</span></p>  <p><span style="color: rgb(0, 0, 255);">So, you may write the following code instead of the code example presented earlier -</span></p>  <div><span style="color: rgb(0, 0, 255);">if(!myEnumerable.IsNullOrEmpty())</span></div>  <div><span style="color: rgb(0, 0, 255);">{</span></div>  <blockquote>   <div><span style="color: rgb(0, 0, 255);">foreach(&lt;type&gt; item in myEnumerable)</span></div>    <div><span style="color: rgb(0, 0, 255);">{</span></div>    <div><span style="color: rgb(0, 0, 255);">&#8230;</span></div>    <div><span style="color: rgb(0, 0, 255);">}</span></div> </blockquote>  <div><span style="color: rgb(0, 0, 255);">}</span></div>  <div><span style="color: rgb(0, 0, 255);"></span></div>  <div><span style="color: rgb(0, 0, 0);">There is simple trick with the Extension Method. That is, extension methods can be invoked even on the objects whose reference is not set to an instance of an object or objects with a null value.</span></div>  <div><span style="color: rgb(0, 0, 0);">So, its perfectly valid to write -</span></div>  <div><span style="color: rgb(0, 0, 255);">List&lt;string&gt; myList = null;</span></div>  <div><span style="color: rgb(0, 0, 255);">Console.WriteLine(&#8220;myList.IsNullOrEmpty = {0}&#8221;, myList.IsNullOrEmpty());</span></div>  <div><span style="color: rgb(0, 0, 0);">because, the IsNullOrEmpty() is an extension method and can be invoked on a null referencing object of its target type.</span></div>  <div><span style="color: rgb(0, 0, 255);"></span></div>  <div><span style="color: rgb(0, 0, 255);"> </span></div></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/09/best-rss-feed-i-have-read-today/">Best RSS Feed I Have Read Today</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-09T00:00:00-06:00" pubdate data-updated="true">Apr 9<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>Many a times, if feels great to know about the online users and some more details about them when they are on your website. This article gives you the code example to achieve this in your ASP.Net application.</p>  <p><a title="http://www.aspdotnetfaq.com/Faq/How-to-get-detailed-info-about-all-online-visitors-that-are-currently-browsing-your-ASP-NET-website.aspx" href="http://www.aspdotnetfaq.com/Faq/How-to-get-detailed-info-about-all-online-visitors-that-are-currently-browsing-your-ASP-NET-website.aspx">http://www.aspdotnetfaq.com/Faq/How-to-get-detailed-info-about-all-online-visitors-that-are-currently-browsing-your-ASP-NET-website.aspx</a></p></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/08/posts-of-day-that-i-liked-most/">Posts of the Day That I Liked Most</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-08T00:00:00-06:00" pubdate data-updated="true">Apr 8<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>1. The Monostate Pattern - Another way to look into Singleton and some improvement over singleton issues.</p>  <p>Read it <a href="http://www.codethinked.com/post/2008/04/The-Monostate-pattern.aspx">Here</a></p>  <p>2. Another good article on LINQ regarding the grouping queries. Read it <a href="http://www.codethinked.com/post/2008/04/Grouping-Linq-Aggregates-in-C.aspx">Here</a></p></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/07/logging-linq-to-sql-generated-sql/">Logging the LINQ to SQL Generated SQL Queries/Commands</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-07T00:00:00-06:00" pubdate data-updated="true">Apr 7<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>I was looking for logging solutions for the generated SQL in one of my projects where I am using LINQ to SQL. I found that sometimes the the Exceptions and StackTrace information does not say much about what&#8217;s really causing the problem with LINQ to SQL queries/commands.</p>  <p>To see the actual SQL that&#8217;s generated from LINQ you may write a code like the following-</p>  <blockquote>   <p></p>    <ol>     <li><span style="color: rgb(29, 54, 231);font-family:courier new;">SampleDataContext context = new SampleDataContext();</span> </li>      <li>//You may wish to use any subclass of System.IO.TextWriter in place of Console.out </li>      <li><span style="color: rgb(29, 54, 231);font-family:courier new;">context.Log = Console.Out;</span> </li>      <li><span style="color: rgb(29, 54, 231);font-family:courier new;">Session session = new Session</span> </li>      <li><span style="color: rgb(29, 54, 231);font-family:courier new;">{</span> </li>      <li><span style="color: rgb(29, 54, 231);font-family:courier new;">SessionID = Guid.NewGuid().ToString(),</span> </li>      <li><span style="color: rgb(29, 54, 231);font-family:courier new;">Site = &#8220;Google&#8221;,</span> </li>      <li><span style="color: rgb(29, 54, 231);font-family:courier new;">StartTime = DateTime.Now</span> </li>      <li><span style="color: rgb(29, 54, 231);font-family:courier new;">};</span> </li>      <li><span style="color: rgb(29, 54, 231);font-family:courier new;">context.Sessions.InsertOnSubmit(session);</span> </li>      <li><span style="color: rgb(29, 54, 231);font-family:courier new;">context.SubmitChanges();</span> </li>   </ol> </blockquote>  <p>And when run, a log message like the following will be shown in your console. </p>  <p><span style="color: rgb(6, 125, 189);">INSERT INTO [dbo].[Sessions]([SessionID], [StartTime], [Site], [UserHostAddress]    <br />, [Url], [UserAgent], [UrlReferrer])     <br />VALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6)     <br />&#8211; @p0: Input VarChar (Size = 36; Prec = 0; Scale = 0) [0522d634-d9e6-43c6-985e-     <br />69c61090b5c4]     <br />&#8211; @p1: Input SmallDateTime (Size = 0; Prec = 0; Scale = 0) [4/7/2008 3:28:02 PM     <br />]     <br />&#8211; @p2: Input VarChar (Size = 6; Prec = 0; Scale = 0) [Google]     <br />&#8211; @p3: Input VarChar (Size = 0; Prec = 0; Scale = 0) [Null]     <br />&#8211; @p4: Input VarChar (Size = 0; Prec = 0; Scale = 0) [Null]     <br />&#8211; @p5: Input VarChar (Size = 0; Prec = 0; Scale = 0) [Null]     <br />&#8211; @p6: Input VarChar (Size = 0; Prec = 0; Scale = 0) [Null]     <br />&#8211; Context: SqlProvider(Sql2005) Model: AttributedMetaModel Build: 3.5.21022.8</span></p>  <p>Well, I know you guys are not just writing Console Applications like me (!) and need something better to be worthy. You may visit the following links for more-</p>  <ol>   <li>To use Log4Net for capturing the log data, <a href="http://devintelligence.com/blogs/netadventures/archive/2008/01/26/sending-the-linq-to-sql-log-to-log4net.aspx">this</a> is a simple yet useful implementation. </li>    <li>As usual, don&#8217;t forget to take a look at <a href="http://msdn2.microsoft.com/en-us/library/system.data.linq.datacontext.log.aspx">this</a> MSDN page for more on this. </li> </ol></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/07/creating-instances-of-internal-classes/">Creating Instances of Internal Classes Using Spring.Net</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-07T00:00:00-06:00" pubdate data-updated="true">Apr 7<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<blockquote>   <p>Creating an instance of an internal class using Spring.Net is a little tricky. I know that, you can achieve this by adding an InternalsVisibleTo attribute to your assembly. However, the following solution also works as desired.</p>    <p>Say, you have an namespace named SampleClasses that contains the a public interface named &#8216;IPublicInterface&#8217; and also an internal class named &#8216;InternalClass&#8217; that implements the IPublicInterface interface and looks like the following - </p> </blockquote>  <div   style="border: 1px solid gray; margin: 20px 0px 10px; padding: 4px; overflow: auto; width: 97.5%; cursor: text; max-height: 200px; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;">   <div   style="border-style: none; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;">     <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   1:</span> <span style="color: rgb(0, 0, 255);">namespace</span> SampleClasses</pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   2:</span> {</pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   3:</span>     <span style="color: rgb(0, 0, 255);">public</span> <span style="color: rgb(0, 0, 255);">interface</span> IPublicInterface</pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   4:</span>     {</pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   5:</span>         <span style="color: rgb(0, 0, 255);">string</span> SayHello();</pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   6:</span>     }</pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   7:</span> }</pre><br /></div><br /></div><br /><br /><div   style="border: 1px solid gray; margin: 20px 0px 10px; padding: 4px; overflow: auto; width: 97.5%; cursor: text; max-height: 200px; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><br /><div   style="border-style: none; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   1:</span> <span style="color: rgb(0, 0, 255);">internal</span> <span style="color: rgb(0, 0, 255);">class</span> InternalClass : IPublicInterface</pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   2:</span> {</pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   3:</span>  </pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   4:</span>     <span style="color: rgb(204, 102, 51);">#region</span> IPublicInterface Members</pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   5:</span>  </pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   6:</span>     <span style="color: rgb(0, 0, 255);">public</span> <span style="color: rgb(0, 0, 255);">string</span> SayHello()</pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   7:</span>     {</pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   8:</span>         <span style="color: rgb(0, 0, 255);">return</span> <span style="color: rgb(0, 96, 128);">"Hello, World!"</span>;</pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   9:</span>     }</pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">  10:</span>  </pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">  11:</span>     <span style="color: rgb(204, 102, 51);">#endregion</span></pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">  12:</span> }</pre><br /></div><br /></div><br /><br /><p>And also, you have an xml configuration file named &#8216;SampleClasses.Spring.xml&#8217; containing your object definition for InternalClass and looks like the following one -</p><br /><br /><div   style="border: 1px solid gray; margin: 20px 0px 10px; padding: 4px; overflow: auto; width: 97.5%; cursor: text; max-height: 200px; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><br /><div   style="border-style: none; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   1:</span> &lt;objects xmlns=<span style="color: rgb(0, 96, 128);">"http://www.springframework.net"</span>&gt;</pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   2:</span>   &lt;<span style="color: rgb(0, 0, 255);">object</span> id=<span style="color: rgb(0, 96, 128);">"internalClass"</span></pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   3:</span>           type=<span style="color: rgb(0, 96, 128);">"SampleClasses.InternalClass, SampleClasses"</span></pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   4:</span>           &gt;    </pre><br /><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   5:</span>   &lt;/<span style="color: rgb(0, 0, 255);">object</span>&gt;</pre><br /><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   6:</span> &lt;/objects&gt;</pre><br /></div><br /></div><br /><br /><p>Now, you need to make sure the following are true -</p><br /><br /><p>1. &#8216;SampleClasses.Spring.xml is compiled as an embedded resource with the assembly that holds the InternalClass class and also in the same namespace. To ensure this, right click the XML file, select Properties and Select Embedded Resource in the Build Action.</p><br /><br /><p>2. In your App.Config (or Web.Config, for web applications), add the following XML declarations to add the embedded XML file - </p><br /><br /><div   style="border: 1px solid gray; margin: 20px 0px 10px; padding: 4px; overflow: auto; width: 97.5%; cursor: text; max-height: 200px; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><br /><div   style="border-style: none; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   1:</span> &lt;configuration&gt;</pre><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   2:</span>   &lt;configSections&gt;</pre><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   3:</span>   &lt;sectionGroup name=<span style="color: rgb(0, 96, 128);">"spring"</span>&gt;</pre><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   4:</span>     &lt;section name=<span style="color: rgb(0, 96, 128);">"context"</span> type=<span style="color: rgb(0, 96, 128);">"Spring.Context.Support.ContextHandler, Spring.Core, Version=1.1.0.2, Culture=neutral, PublicKeyToken=65e474d141e25e07"</span>/&gt;</pre><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   5:</span>     &lt;section name=<span style="color: rgb(0, 96, 128);">"objects"</span> type=<span style="color: rgb(0, 96, 128);">"Spring.Context.Support.DefaultSectionHandler, Spring.Core, Version=1.1.0.2, Culture=neutral, PublicKeyToken=65e474d141e25e07"</span>/&gt;</pre><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   6:</span>   &lt;/sectionGroup&gt;</pre><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   7:</span>   &lt;/configSections&gt;</pre><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   8:</span>   </pre><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   9:</span>    &lt;spring&gt;</pre><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">  10:</span>     &lt;!-- Define the context : identify the source from <span style="color: rgb(0, 0, 255);">where</span> it gets its resources--&gt;</pre><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">  11:</span>     &lt;context&gt;</pre><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">  12:</span>       &lt;resource uri=<span style="color: rgb(0, 96, 128);">"assembly://SampleClasses/SampleClasses/SampleClasses.Spring.xml"</span>/&gt;      </pre><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">  13:</span>     &lt;/context&gt;</pre><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">  14:</span>   &lt;/spring&gt;</pre><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">  15:</span> &lt;/configuration&gt;</pre><br /></div><br /></div><br /><br /><p>Now, that you have everything ready you can simply write the following code segment to access create an instance of the internal class and hold it through the IPublicInterface as shown below-</p><br /><br /><div   style="border: 1px solid gray; margin: 20px 0px 10px; padding: 4px; overflow: auto; width: 97.5%; cursor: text; max-height: 200px; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><br /><div   style="border-style: none; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   1:</span> <span style="color: rgb(0, 0, 255);">string</span> id = <span style="color: rgb(0, 96, 128);">"internalClass"</span>;            </pre><br />  <pre   style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt; background-color: rgb(244, 244, 244);font-family:consolas,'Courier New',courier,monospace;font-size:8pt;"><span style="color: rgb(96, 96, 96);">   2:</span>             IPublicInterface obj = ContextRegistry.GetContext().GetObject(id) <span style="color: rgb(0, 0, 255);">as</span> IPublicInterface;</pre><br />  <pre    style="border-style: none; margin: 0em; padding: 0px; overflow: visible; width: 100%; color: black; line-height: 12pt;font-family:consolas,'Courier New',courier,monospace;font-size:8pt;color:white;"><span style="color: rgb(96, 96, 96);">   3:</span>             Console.WriteLine(<span style="color: rgb(0, 96, 128);">"Hello = {0}"</span>, obj.SayHello());</pre><br /></div><br /></div><br /><br /><p>So, you see that its simple way to create an instance of an internal type using Spring.Net given that the internal type is the type of a public Interface. If this assumption is not true, then probably you are not following the best OO designs, where you need to create instances of types that are only supposed to be internal to a namespace.</p><br /><br /><p>Wish it helps some of you. Send me a comment if you need the full source code and project.</p></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2008/04/06/my-first-post-using-windows-live-writer/">My First Post Using Windows Live Writer</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2008-04-06T00:00:00-06:00" pubdate data-updated="true">Apr 6<span>th</span>, 2008</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<p>I came to know about this cool writer very recently and was waiting to take a look at this editor. Now that I am writing a blog entry from this editor, I feel like its really making my life easy.</p>  <p><a href="http://lh4.google.com/sohan39/R_ibwQTK2hI/AAAAAAAAABQ/zpBUxIdQ_5o/image%5B6%5D.png"><img style="border-right: 0px; border-top: 0px; border-left: 0px; border-bottom: 0px" height="437" alt="image" src="http://lh6.google.com/sohan39/R_ibxwTK2iI/AAAAAAAAABc/_Im9V7HK5Ko/image_thumb%5B4%5D.png" width="683" border="0" /></a> </p>  <p>Well, for a head start, I just hit the print screen button followed by a ctrl-V and this is what you see! It&#8217;s lot more fun to edit in this editor!</p>  <p>I recommend you all to try this and also let me know if you are using an editor more cool that this :-)</p>  </div>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/23/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/21/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2021/01/17/software-architecture-part-3-writing/">Software Architecture - Topic 3: Writing</a>
      </li>
    
      <li class="post">
        <a href="/blog/2021/01/16/what-drives-me/">What Drives Me?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2020/12/30/software-architecture-part-2-people/">Software Architecture - Topic 2: People</a>
      </li>
    
      <li class="post">
        <a href="/blog/2020/12/26/software-artchitecture-part-1/">Software Architecture - Topic 1: Delightfulness</a>
      </li>
    
      <li class="post">
        <a href="/blog/2020/12/24/you-are-unfrogettable/">&#8220;you&#8217;re unfrogettable&#8221;</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>LinkedIn Profile</h1>
  <p>
    <a href="http://www.linkedin.com/in/sohan">SM Sohan</a>
  </p>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/smsohan">@smsohan</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'smsohan',
            count: ,
            skip_forks: ,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2021 - SM Sohan -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
