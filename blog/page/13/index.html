
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Sohan's Blog</title>
  <meta name="author" content="SM Sohan">

  
  <meta name="description" content="I didn&#8217;t even notice this little trick! As long as I didn&#8217;t have to call deliver_welcome_message (or deliver_*) methods that would &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://smsohan.com/blog/page/13/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="" rel="alternate" title="Sohan's Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37549931-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Sohan's Blog</a></h1>
  
    <h2>Things I'm Learning</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:smsohan.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/home">Home</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/lifeline">Lifeline!</a></li>
  <li><a href="/blog/2013/04/05/call-me-sohan-and-ask-me-not-about-sm/">Call me Sohan!</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/28/actionmailer-3-why-do-you-call-instance/">ActionMailer 3 - Why Do You Call Instance Methods as Class/self Methods?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-28T00:00:00-07:00" pubdate data-updated="true">Jan 28<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
I didn&#8217;t even notice this little trick! As long as I didn&#8217;t have to call deliver_welcome_message (or deliver_*) methods that would magically call welcome_message, I was happy that now the magic is gone. Things are transparent!<br />Here&#8217;s an example showing the change: Say you have the following mailer:<br /><pre class="ruby">class Notifier &lt; ActionMailer::Base<br />  def welcome_message(new_user)<br />    #a warm welcome message<br />  end<br />end</pre>Now, prior to Rails 3, or ActionMailer 3, you would write the following to actually call this method to get the benefits of ActionMailer magics, such as finding the view based on method name and so on:<br /><pre class="ruby">Notifier.deliver_welcome_message(new_user_instance)  </pre>I am sure this deliver_* was a clever design decision to solve a hard problem, that is, finding the view name based on the method name. However, in ActionMailer 3, this is gone. Now the question is, if this trick is gone, how come it still finds the view name from the method name? Who sets the view name? To know the answer, first, let&#8217;s take a look at how we call the welcome_message now.<br /><pre class="ruby">Notifier.welcome_message(new_user_instance).send</pre><pre class="ruby">Instead of</pre><br /><pre class="ruby" style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">Notifier.<b>new</b>.welcome_message(new_user_instance).send</pre><br />So, the magic deliver_ prefix is gone. But, did you see the new trick? Well, its a clever design again. The trick this time is, you call your instance method, welcome_message as if it was a class method. But there is no class method called welcome_message, so it instead goes to method_missing and thats how it sets up the view name from this call. Here&#8217;s the code that does this little trick!<br /><pre class="ruby">def method_missing(method, *args) #:nodoc:<br />    return super unless respond_to?(method)<br />    new(method, *args).message<br />  end</pre>All it does is, instantiates the mailer with the method name!<br /><br />However, this design decision has interesting side effects as well. Or may be not side effects, but rather core effects. For example, since you are calling your mailer methods as class methods, you cannot use a single mailer instance to send out multiple emails at the same time. In fact, every mailer has only one instance of message. So, it cannot store two messages at the same time. This is as if, you can have multiple methods in a class, but you cannot call more than one class or you will mess up the class&#8217;s state!<br /><br />Wonder why? Well, this is rooted in another key design choice: ActionMailer::Base is a subclass of AbstractController::Base. Now, if you look at controllers, you will notice that at any given point of time, a controller instance is only responsible for responding to a single action. This is logical for controllers. But how about mailers? I see a mismatch in my mental model and the actual implementation model. I don&#8217;t see a reason why a mailer is a controller! For the sake of code reuse? But that could be done via delegation anyway.<br /><br />I will end this post with one question: <br /><b><span class="Apple-style-span" style="color: #073763;">Do you think mailer is a controller?</span></b> hints: think about LSP.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/14/social-helpers-in-aspnet-mvc3-facebook/">Social Helpers in ASP.Net MVC3 (Facebook, Twitter, Gravatar Etc.)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-14T00:00:00-07:00" pubdate data-updated="true">Jan 14<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
This site shows the examples!<br /><a href="http://www.asp.net/webmatrix/tutorials/13-adding-social-networking-to-your-web-site">http://www.asp.net/webmatrix/tutorials/13-adding-social-networking-to-your-web-site</a><br /><br />Now, the social links and buttons are no longer from a third-party source, its straight from Microsoft. I don&#8217;t know if this is first-party or second-party :p</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/13/my-article-at-codeproject-mvcmailer/">My Article at CodeProject: MvcMailer</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-13T00:00:00-07:00" pubdate data-updated="true">Jan 13<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
I just released a .Net NuGet package called MvcMailer and to get people super easily started, put an article at CodeProject.com. You are most welcome to the article at&nbsp;<a href="http://www.codeproject.com/KB/aspnet/MvcMailerNuGet.aspx">http://www.codeproject.com/KB/aspnet/MvcMailerNuGet.aspx</a><br />I welcome your comments and suggestions!</div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Sohan</div>
<div class='content'>
Just released 0.8 and it should work. But please let me know if it doesn&#39;t.<br />I also added multi-part emails in version 0.8. You may check that out as well.<br />One important change:<br />mail.Body = PopulateBody(mail, &quot;welcome&quot;) needs to be replaced with PopulateBody(mail, &quot;Welcome&quot;), it gets rid of the duplication</div>
</div>
<div class='comment'>
<div class='author'>Sohan</div>
<div class='content'>
This comment has been removed by the author.</div>
</div>
<div class='comment'>
<div class='author'>Jakub</div>
<div class='content'>
Brilliant! Can&#39;t wait. Could you post a comment here or send me a line to jkonecki [at] gmail.com when the new release is out so I can test it as well?</div>
</div>
<div class='comment'>
<div class='author'>Sohan</div>
<div class='content'>
Thanks for your reply. I will test this out before I push a new release. The new release will also add multi-part emails so that you can easily send html and plain text emails.</div>
</div>
<div class='comment'>
<div class='author'>Jakub</div>
<div class='content'>
My route is defined as:<br /><br />routes.Add(&quot;Account&quot;, new Route(&quot;{account}/{controller}/{action}/{id}&quot;,<br />new RouteValueDictionary(new { account = &quot;&quot;, controller = &quot;Home&quot;, action = &quot;Index&quot;, id = &quot;&quot; }), new AccountMvcRouteHandler()));<br /><br />I&#39;m trying to render a link:<br />href=&quot;@Url.Abs(Url.Action(&quot;About&quot;, &quot;Home&quot;))&quot;<br /><br />The url that is generated looks like:<br /><br />http://mysite/Home/About<br /><br />instead of<br /><br />http://mysite/myaccount/Home/About</div>
</div>
<div class='comment'>
<div class='author'>Sohan</div>
<div class='content'>
Can you please share your specific route and ActionLink in mailer view that breaks for the route data?<br /><br />I know a solution to your problem now. But I would like to make sure I know the problem in detail.</div>
</div>
<div class='comment'>
<div class='author'>Jakub</div>
<div class='content'>
Great! I&#39;m waiting impatiently&#8230; ;-)<br /><br />PS. Congratulations on joining ThoughtWorks</div>
</div>
<div class='comment'>
<div class='author'>Sohan</div>
<div class='content'>
Yes, a new version is overdue now:)</div>
</div>
<div class='comment'>
<div class='author'>Jakub</div>
<div class='content'>
Awesome!<br /><br />Will you release a new version through NuGet? I will be able to upgrade easily and test it for you.<br /><br />Cheers!<br />Jakub</div>
</div>
<div class='comment'>
<div class='author'>Sohan</div>
<div class='content'>
Thanks for your suggestion. I will fix this issue this weekend.</div>
</div>
<div class='comment'>
<div class='author'>Jakub</div>
<div class='content'>
Hi!<br /><br />Thirst of all, thank you for a brilliant package! It&#39;s simple and easy to use!<br /><br />I&#39;ve just found one little issue - I&#39;ve notices that the ControllerContext for Notifier doesn&#39;t have the RouteData dictionary populated with the same values as the RouteData for main controller. This causes UrlHelper to generate invalid Urls. My app is a multi-tenant one and all my routes have format: /{account}/{controller}/{action}/ I&#39;ve managed to &#39;fix&#39; it by adding following code in the WelcomeMessage.cshtml<br /><br />@{<br />    this.Url.RequestContext.RouteData = (this.Context.CurrentHandler as MvcHandler).RequestContext.RouteData;<br />}<br /><br />I wonder if you could fix it properly, then MvcMailer will be just perfect! ;-)<br /><br />Thank you,<br />Jakub</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/07/c-named-parameters-can-be-very-useful/">C# Named Parameters Can Be Very Useful</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-07T00:00:00-07:00" pubdate data-updated="true">Jan 7<span>th</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Think about the following code example:<br /><span class="Apple-style-span" style="color: blue; font-family: 'Courier New', Courier, monospace;">htmlHelper.InputHelper(InputType.CheckBox, name, &#8220;true&#8221;, true /* useViewData */, false /* isChecked */, true /* setId */, false /* isExplicitValue */, htmlAttributes);</span><br />This line is taken from the source code of ASP.NET MVC, or to be more specific its a line from the InputExtension class. I think the intent of the original developer is clear:<br />Add comment next to arguments so that one can easily read the method call without getting lost in a who&#8217;s who since there are quite some arguments to pass.<br />To learn more about named parameters using C#, you can visit <a href="http://weblogs.asp.net/scottgu/archive/2010/04/02/optional-parameters-and-named-arguments-in-c-4-and-a-cool-scenario-w-asp-net-mvc-2.aspx">this post</a> by ScottGu.</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2011/01/02/2011-yet-another-new-year/">2011: Yet Another New Year</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2011-01-02T00:00:00-07:00" pubdate data-updated="true">Jan 2<span>nd</span>, 2011</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Dear Readers:<br />Happy 2011. 2010 was a great year. Why?<br /><br /><ul><li>Defended my&nbsp;<a href="http://smsohan.com/Email_Auto_Tagging_Sohan.pdf">MSc thesis</a>&nbsp;after a moderate 16 months of grad school life.</li><li>Published <a href="http://people.ucalgary.ca/~smsohan/#research">3 papers</a> in 3 international conferences.</li><li>Visited 4 new countries - <a href="http://en.wikipedia.org/wiki/Netherlands">Netherlands</a>, <a href="http://en.wikipedia.org/wiki/Sweden">Sweden</a>, <a href="http://en.wikipedia.org/wiki/Finland">Finland</a> and <a href="http://en.wikipedia.org/wiki/Norway">Norway</a>.</li><li>Visited a few interesting cities - <a href="http://en.wikipedia.org/wiki/Vancouver">Vancouver</a>, <a href="http://en.wikipedia.org/wiki/Victoria">Victoria</a>, <a href="http://en.wikipedia.org/wiki/Edmonton">Edmonton</a>.</li><li>100+ posts on <a href="http://DrinkRails.com/">DrinkRails.com</a>.</li><li>25,000+ visits to my two blogs from all over the world.</li><li>Developed a fresh new app, Plexina Central, for <a href="http://www.wairever.ca/">Wairever Inc</a>.</li><li>Lived a healthy life.</li><li>Bought my first (98 Corolla) and second (2000 CR-V) cars (also sold my first car)!</li></ul><div>To live up to this standard, 2011 is surely challenged by 2010. Let&#8217;s see how 2011 rolls: To give you a heads up, I am joining <a href="http://www.ThoughtWorks.com/">ThoughtWorks</a> as a Consultant on January 4th!</div><div>However, 2010 was the only year in my life when I didn&#8217;t see my parents and siblings. I hope, 2011 does a better job in this regard. It is getting essential now.</div><table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/_Gr1ozXzBWpM/TSC1Pk04TbI/AAAAAAAAAS4/zp7sCUrzofo/s1600/IMG_0109.JPG" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="239" src="http://1.bp.blogspot.com/_Gr1ozXzBWpM/TSC1Pk04TbI/AAAAAAAAAS4/zp7sCUrzofo/s320/IMG_0109.JPG" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">This is how I look at the close of 2010</td></tr></tbody></table><div>And I want to look leaner at the close of 2011 or even before that :(</div></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/12/13/dry-total-161-duplicate/">DRY - Total 161 Duplicate ArgumentNullException Calls in ASP.Net MVC Source Code</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-13T00:00:00-07:00" pubdate data-updated="true">Dec 13<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
There are 161 occurrences of the following code pattern inside the ASP.Net MVC source code: See details of which class and which line at&nbsp;<a href="https://gist.github.com/739523">https://gist.github.com/739523</a><br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="Apple-style-span" style="color: blue;">method(type argument)</span></span><br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="Apple-style-span" style="color: blue;">{</span></span><br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="Apple-style-span" style="color: blue;">&nbsp;&nbsp;if(argument == null){</span></span><br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="Apple-style-span" style="color: blue;">&nbsp;&nbsp; &nbsp;throw new ArgumentNullException(&#8220;argument&#8221;)</span></span><br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="Apple-style-span" style="color: blue;">&nbsp;&nbsp;}</span></span><br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="Apple-style-span" style="color: blue;"><br /></span></span><br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="Apple-style-span" style="color: blue;">&#8230;</span></span><br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="Apple-style-span" style="color: blue;">}</span></span><br />So, in total this pattern introduces 312 lines of duplicate code without whitespaces and 644 lines of duplicate code including whitespaces. And the pattern is simple, just check a condition and throw exception if its true. Not to mention, there are numerous other duplications where <span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="Apple-style-span" style="color: blue;">string.IsNullOrEmpty</span></span> is used to check for string arguments.<br />This observation is interesting to me. Since, I think it adds a lot of noise to the code. In fact, if you randomly look at any of the methods - you have a good chance of seeing the first few lines doing this exactly similar thing. And this adds noise to me. Not to mention that, the developer needs to write the code, write tests for this code and if one needs to use this method, somehow should know this in advance that passing a null will result in an exception. But of course, this is not explicit from the method signature unless the developer also takes the pain to put a documentation styled comment and mention about this ArgumentNullException.<br />To remove this clutter, I think C# can introduce a few language keywords such as the follows:<br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="Apple-style-span" style="color: blue;">public void Authenticate(<b>required</b> User user)</span></span><br /><span class="Apple-style-span" style="font-family: 'Courier New', Courier, monospace;"><span class="Apple-style-span" style="color: blue;">public void AddNewUser(<b>nonblank</b> string userName)</span></span><br />A compiler can very easily compile the code and put the exception throwing logic based on these keywords. Call it a syntactic sugar or a language keyword, this is the kind of translation that seems to be perfect for the compilers. And I can foresee it being used in almost all methods we write, since if the methods require an argument they do it for a purpose and most of the time null is not expected anyway!<br />I don&#8217;t know if this will reach the people responsible for developing C#, but if it does, I think the community will really love this new language feature.<br />I know about workarounds using AOP or other hyped-but-seldom-used tricks to solve this problem. But these tricks often make life harder by introducing a learning curve and then punishing the learning by slowing down the application. So, its best to put in as a core language feature. What do you think?</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/12/10/book-review-jose-valims-crafting-rails/">Book Review: Jose Valim&#8217;s Crafting Rails Applications</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-12-10T00:00:00-07:00" pubdate data-updated="true">Dec 10<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
<table align="center" cellpadding="0" cellspacing="0" class="tr-caption-container" style="margin-left: auto; margin-right: auto; text-align: center;"><tbody><tr><td style="text-align: center;"><a href="http://shared2.pragprog.com/images/covers/190x228/betas/jvrails.jpg" imageanchor="1" style="margin-left: auto; margin-right: auto;"><img border="0" height="320" src="http://shared2.pragprog.com/images/covers/190x228/betas/jvrails.jpg" width="266" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Have you already read this?</td></tr></tbody></table><br />The following excerpt &nbsp;by Jose Valim at the end of the book nicely summarizes it:<br /><blockquote>Finally, you understand Rails better. You can explore other areas of the source code, study other Action Controller and Active Models modules, check other generators implementations or read the source of Railties, Engines and Applications with detail! - Jose Valim</blockquote>For the impatient readers, this is the best in-depth Ruby on Rails related book I have ever read and you should read this (only 172 pages). Buy the book <a href="http://pragprog.com/titles/jvrails/crafting-rails-applications">here</a>. But wait, you could get 40% discount and get the book for $13. I will tell you how, continue reading!<br />This book literally opens up the Ruby on Rails framework for the readers. So, now I am crystal clear about Metal, Rack, ActiveModel, Rendering, Templating, Migrations, Gems, Engines and so many core concepts. If you are like me, you have cloned <a href="https://github.com/rails/rails">the Ruby on Rails code</a> and took a peek into the code to understand, patch some code or just to <a href="http://smsohan.blogspot.com/2010/11/ruby-some-mysterious-language-features.html">learn some hidden treasures of Ruby</a>, but had tough time getting hold of the big picture. Well, this book will show you some highways and also some other useful alleys - you can find the rest by yourself!<br />This book embraces Test Driven Design, so all code examples, and hell yes there&#8217;s a lot of them, are test driven. So, its unit test, functional test and integration test that drives the show. The topics cover customization of key Ruby on Rails components such as: models, controllers, views, mailers, generators and rack integrations. But the examples are really good as it shows:<br /><br /><ul><li>Responding to pdf requests so that the server responds with on-the-fly PDF responses</li><li>Using Markdown templates for producing HTML&nbsp;and Text multipart emails from a single source template</li><li>Rendering views that are stored in a database to work as a simple CMS</li><li>Publishing and subscribing to Rails internal event such as SQL queries</li><li>Creating a simple rack application</li><li>Creating a Rails Engine</li><li>Creating custom responders so that you can DRY up your controllers that use exactly same lines for respond_to do |format|&#8230;</li><li>I18n translations using Redis key-value store and caching</li><li>Combining Sinatra with Rails in a single Rails app</li></ul><div>To ease the process of trying out the DIY code, Jose Valim created an excellent gem called <a href="https://github.com/josevalim/enginex">enginex</a>. This gem gives you an incubator to try out the example code while building your own gem and using it from an embedded dummy application, writing tests and even browsing the app. The whole experience of trying out the code is awesome. Before this, I have never read a book that shipped with a gem just so that the readers could easily use the source code. Awesome idea and even better execution.</div><div>While explaining the inner workings of Ruby on Rails framework the book also discussed about a few useful gems:</div><div><ol><li><a href="https://github.com/plataformatec/devise">devise</a> - authentication gem.</li><li><a href="https://github.com/josevalim/enginex">enginex</a> - produces incubator for gem development and makes it a breeze.</li><li><a href="https://github.com/jnicklas/capybara">capybara</a>&nbsp;- drives integrations tests and also works with browsers through selenium etc.</li><li><a href="https://github.com/rtomayko/rdiscount">rdiscount</a> -&nbsp;Discount is an implementation of John Gruber&#8217;s Markdown markup language in C</li><li><a href="https://github.com/plataformatec/responders">responders</a> - DRY up your Ruby on Rails application with a number of handy responders.</li><li><a href="http://rubygems.org/gems/redis">redis</a> - an easy to use Key Value store.</li><li><a href="https://github.com/sandal/prawn">prawn</a> - Ruby PDF library.</li></ol><div>This book also shows a number of cool tricks. Its overall a fun read. I would say, the final version will be &nbsp;more eye-soothing, but don&#8217;t wait for that. Grab your ebook now and you will get the updates as they come!</div></div><div>I would like the book more if Jose Valim could reorganize some of the content. For an example, the text about Generators appear in different places. I think it would be easier to follow if it was in a separate chapter. The same applies for Engine.</div><div>I have another observation: the book is written for pro developers with substantial Ruby/Rails application. But I think the topics discussed here could also be equally useful to beginners. The later can be achieved by going a bit slow about some of the topics. Jose Valim, can you add little explanations at places for beginners?</div><div><b>The bottom line is, buy this book and read</b>. To receive 40% discount, sign up at&nbsp;<a href="http://pragprog.com/">http://pragprog.com</a> and refer to a friend and ask her to complete signup. You both get 40% discount. To claim, go to your account and you will find this as soon as your friend completes the signup.</div><div>Thank you!</div><div>&#8211;</div><div>This review is not sponsored and contains my opinion only.</div></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Bluesman Alex</div>
<div class='content'>
Hi!<br /><br />I have just purchased this book, and I have only glanced at the contents page. I&#39;m glad a book like this finally appeared. I think there&#39;s a good need for it on the market.<br /><br />Also, I&#39;d like to see a section covering rails class loading. I&#39;ve been lacking info on that several times, when I had weird bugs appearing in development environment and I had a hard time surfing the source code&#8230;<br /><br />Thanks for the book, Jose! Nice work! :)</div>
</div>
<div class='comment'>
<div class='author'>José Valim</div>
<div class='content'>
Hey Sohan,<br /><br />Thanks for the detailed and great review about my book! I will discuss with my editor and see if and how we can organize some content, as you suggested.<br /><br />Also, do you mind pointing out a few areas where I could add more explanations, to be more friendly to newcomers?<br /><br />We can continue this discussion in the PragProg&#39;s forum.<br /><br />Thanks a bunch!</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/11/11/ruby-some-mysterious-language-features/">Ruby - Some Mysterious Language Features</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-11-11T00:00:00-07:00" pubdate data-updated="true">Nov 11<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Here I will share some of the interesting ruby features that you will notice when looking into mature ruby code by advanced level coders.<br /><br /><script src="https://gist.github.com/673781.js?file=RubyAdvancedFeatures"></script></div>
<h2>Comments</h2>
<div class='comments'>
<div class='comment'>
<div class='author'>Inventory Management Software</div>
<div class='content'>
Thanks for sharing your post and it was superb .I would like to hear more from you in future too.</div>
</div>
</div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/11/10/upgrading-to-ruby-on-rails-3-beware/">Upgrading to Ruby on Rails 3 - Beware!</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-11-10T00:00:00-07:00" pubdate data-updated="true">Nov 10<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Ryan Bates had a series of posts (<a href="http://railscasts.com/episodes/225-upgrading-to-rails-3-part-1">1</a>, <a href="http://railscasts.com/episodes/226-upgrading-to-rails-3-part-2">2</a>&nbsp;and&nbsp;<a href="http://railscasts.com/episodes/227-upgrading-to-rails-3-part-3">3</a>) on upgrading your Rails 2.3.x apps to Rails 3.x and sure they are useful. But if you are really doing that, beware of the following changes that you will need to do. It will take a lot of time for sure if you you have a moderate sized app.<br /><br />Upgrading your models:<br /><br /><ol><li>Get rid of all validates_xxx_of with appropriate validates</li><li>Get rid of all def validate &#8230; end methods with custom validator</li><li>Find out all occurrences of :conditions, :limit, :order and use new active record methods instead</li><li>Replace all named_scope with scope</li><li>Make sure your acts_as_xxxx plugins are all updated to use Ruby on Rails 3. I had troubles with Authlogic as it shows Based.named_scope is DEPRICATED. Still looking for a solution.</li><li>Ruby 1.9.2 doesn&#8217;t work with soap42 wsdl driver. Haven&#8217;t found a solution yet as it keeps reporting an error regarding &#8220;XML processor module&#8221; missing.</li></ol><div>Upgrading your controllers:</div><div><ol><li>Find out all occurrences of find method and replace with where.</li><li>Find out all calls to Mailer that looks like deliver_xxx and make it xxx.deliver</li></ol><div><div><div>Upgrading your views:</div></div><div><ol><li>All erb blocks must start with a   has to be changed to&nbsp; . Do the same for all such erb blocks with a do.</li><li>All link_to_remote or remote_form_for or other remote form helpers need to be changed to their non-remote counterparts with a param :remote =&gt; true.</li></ol></div></div><div>Upgrading your mailers:</div></div><div><ol><li>body method is gone, instead of the hashed params to this method, just define instance variables.</li><li>All xxx.text.html.erb now becomes xxx.html.erb in the mailer views.</li></ol><div>Upgrading the config files:</div></div><div><ol><li>The best way is to crate a new rails app and then copy the config folder into yours.</li><li>Look at the initializers and clean up any required initializers.</li><li>Make sure you have autoload_paths setup to include the lib folder. It is not included by default, so your code from the lib folder won&#8217;t be accessible.</li><li>Look at deprecation warning and you will see lots of config.action_controller.* need to changed to config.*</li></ol><div>Plugins:</div></div><div><ol><li>All plugin/lib/rails/tasks/*.rake needs to be copied in to plugin/lib/tasks/*.rake</li><li>Make sure your plugins don&#8217;t use named_scope, if you find any, replace with scope.</li><li>Whatever applies to your models should also be applied to your plugins that act on models.</li></ol><div>Testing:</div><div><ol><li>Check you have updated shoulda, rspec or whatever lib you use.</li><li>Update test codes according to your new lib.</li></ol></div><div>Upgrading IDE to use RVM:</div></div><div><ol><li>Your IDE is not smart enough to use RVM. However <a href="http://blendedmusings.blogspot.com/2010/10/getting-rvm-textmate-ruby-187-and-192.html">use this</a> to get TextMate ready.</li></ol></div></div>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2010/09/29/using-niltoa-or-whatevertoa-in-ruby/">Using nil.to_a or whatever.to_a in Ruby</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2010-09-29T00:00:00-06:00" pubdate data-updated="true">Sep 29<span>th</span>, 2010</time>
        
      </p>
    
  </header>


  <div class="entry-content"><div class='post'>
Ruby is a programming language for developer happiness and productivity for customers. Here is a quick happiness and productivity tip:<br /><br /><script src="http://gist.github.com/603762.js">  </script></div>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/14/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
    <a class="next" href="/blog/page/12/">Newer &rarr;</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2021/03/04/architecture-redis/">Software Architecture - Topic 4 - Redis</a>
      </li>
    
      <li class="post">
        <a href="/blog/2021/02/19/frontend-engineering/">Can I Have a Career as a Frontend Engineer?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2021/01/17/software-architecture-part-3-writing/">Software Architecture - Topic 3: Writing</a>
      </li>
    
      <li class="post">
        <a href="/blog/2021/01/16/what-drives-me/">What Drives Me?</a>
      </li>
    
      <li class="post">
        <a href="/blog/2020/12/30/software-architecture-part-2-people/">Software Architecture - Topic 2: People</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>LinkedIn Profile</h1>
  <p>
    <a href="http://www.linkedin.com/in/sohan">SM Sohan</a>
  </p>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/smsohan">@smsohan</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'smsohan',
            count: ,
            skip_forks: ,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2021 - SM Sohan -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
