
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Sohan's Blog</title>
  <meta name="author" content="SM Sohan">

  
  <meta name="description" content="My 2021 resolution was to be more mindful. But I made the rookie mistake of having a goal without metrics and a clear strategy. So, I can’t tell if I &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://smsohan.com/">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="" rel="alternate" title="Sohan's Blog" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-37549931-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body    class="collapse-sidebar sidebar-footer" >
  <header role="banner"><hgroup>
  <h1><a href="/">Sohan's Blog</a></h1>
  
    <h2>Things I'm Learning</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:smsohan.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/home">Home</a></li>
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="/lifeline">Lifeline!</a></li>
  <li><a href="/blog/2013/04/05/call-me-sohan-and-ask-me-not-about-sm/">Call me Sohan!</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div class="blog-index">
  
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2021/12/19/2021-to-2022/">2021 → 2022</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2021-12-19T12:13:00-08:00" pubdate data-updated="true">Dec 19<span>th</span>, 2021</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>My 2021 resolution was to be more mindful.</strong> But I made the rookie mistake of having a goal without metrics and a clear strategy. So, I can’t tell if I was indeed more mindful or not. In this post, I’m sharing some highlights from my 2021, in a random order. I personally find it fascinating to look at these at a later time.</p>

<p><strong>Family</strong>. Thanks to work from home for the entire year, we spent a lot of time together as a family. Unfortunately, this is another year when we didn&#8217;t meet any of our extended family members due to Covid. This makes it two years in a row, and it&#8217;s definitely the lowlight of the year. Without the help of extended family, I felt the joy of parenting was often lost in the grunts of never-ending responsibilities. After all, one can only find so much joy in the infinite loop of loading and unloading dishwashers.</p>

<p><strong>Relationships.</strong> I made some new relationships with some old friends. I found these new relationships helped us supporting one another through the pandemic and beyond just that. I’ve been blessed with the kindness of so many people as they spent their time to meet, talk, or text with me. They’ve inspired me with words of encouragement and I hope I’ve made their lives a little better, too. Thank you folks, you know who you are.</p>

<p><strong>Moves.</strong> We moved to Vancouver from Calgary this year. This was all consuming for the whole family. We touched up the Calgary house, prepared it for showing, and entertained dozens of showings while still living in the house and working from home. It was super exhausting. The move itself was actually two moves. First we moved to a corporate apartment for two months, and then we moved to a rental house. The company arranged move was as good as it gets. Yet, it was an extraordinarily difficult summer. Along the two moves, we ended up filling out 100’s of forms for medical, banking, schools, etc.</p>

<p><strong>Books.</strong> This year I read and listened to many books, mostly on the topic of leadership. A friend got me Audible credits as a gift and that got me into audiobooks, too. I listened to four audiobooks in the last two months. Thank you.</p>

<p><strong>Walks.</strong> Since moving to Vancouver, I’ve developed a habit of walking. I always liked to go for walks, but the weather and greenery here has been refreshing to go for more walks. This is also a positive side effect of not having the second car.</p>

<p><strong>Tennis.</strong> In 2020, I played a lot of tennis. I found an enthusiastic partner who lived nearby. Also, I didn’t want to play soccer due to Covid. I kept on playing tennis in 2021, too. It was a little harder after we moved to Vancouver. Despite a large number of courts, it’s always busy here. I don’t have a partner who lives nearby, and I don’t have a second car since we moved. But overall, I think I enjoyed tennis this year as my primary sport.</p>

<p><strong>Health.</strong> I was super worried about the health related vitals because of the amount of stress from all things moving. My last health check in November turned out to be ok. This was a major relief to know.</p>

<p><strong>Social media.</strong> With some new relationships with old friends, I lost interest in the passive ways to connect with friends over social media. However, I still keep an eye on Twitter and use it mostly as an information radar.</p>

<p><strong>Investments.</strong> The stock market indexes overall did great this year, and so did my passive investments. But I actually didn’t have any meaningful gain or loss from my active investments. I learned that I can’t time the market and <em>nobody</em> has a clue about valuations of companies anyway.</p>

<p><strong>Work.</strong> I had a blast at Microsoft in 2021. I built strong relationships with some of my colleagues. I built my org comprised of three teams. Together we built some cool products for Azure Communication Services and I learned a ton in the process. I focused on honing my leadership skills by carefully observing others and experimenting with ideas that I learned from podcasts, talks and books on leadership and motivation.</p>

<p><strong>2022.</strong> As a family, we’ve decided to move to the US after twelve years in Canada. We love the Vancouver area a lot and we can see us returning to this beautiful city at a later time. But at this time, we have concerns about affordability. With this family decision, I looked for job options to move to the US. It was incredibly stressful to make a decision because I was fortunate to have several competing options to choose from. In the end, <strong>I accepted an offer from Google for an engineering manager role</strong> starting in January. This makes 2022 both an exciting and a worrisome year for me. Seeing how much I learned from Microsoft in 2021, I can imagine the new job at Google will be a learning journey of leadership, technology, culture and more. Also, seeing how disruptive it was to move within the same country, I’m terrified of what to come when we’ll move to another country.</p>

<p>To keep it simple, I’ve decided to go into 2022 with one resolution - every time I’m stressed, I’ll take a pause and ask myself, <strong>“what would Scott do in this situation?”</strong></p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2021/11/07/open-source-strategy/">Open-source: If You Build It Right, They&#8217;ll Come</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2021-11-07T12:51:00-08:00" pubdate data-updated="true">Nov 7<span>th</span>, 2021</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>I find open-source to be a rather loaded term; it means different things to different people. For this blog post, I&#8217;ll imagine there are two kinds of open-source products:</p>

<ol>
<li>Company-owned open-source</li>
<li>Crowd-owned open-source</li>
</ol>


<p>I&#8217;m writing this blog post specifically about company-owned open-source products. In a typical company-owned open-source product, the company pays us to develop and maintain the product. I&#8217;ve been working on the <a href="https://aka.ms/acsstorybook">Azure Communication Services UI Library</a> that falls into this category. We have full-time developers at Microsoft that work on this product. In the past few weeks, I was researching to come up with an open-source strategy for us. Here I&#8217;m sharing what I learned in the process. These findings can help others who are on the same boat.</p>

<p>Here&#8217;s a quick table of the community engagement modes for open-source products. The higher the layer, the more complex it gets.</p>

<table>
<thead>
<tr>
<th></th>
<th>Engagement Mode</th>
<th>Key Enabler</th>
</tr>
</thead>
<tbody>
<tr>
<td></td>
<td>Change existing code / architecture</td>
<td> Community meetups and conferences</td>
</tr>
<tr>
<td></td>
<td>Add new features</td>
<td> <strong>Extensibility API</strong>, Public facing product backlog</td>
</tr>
<tr>
<td></td>
<td>Fix bugs</td>
<td> CI, contribution guide, coding style guides</td>
</tr>
<tr>
<td></td>
<td>Fork and customize</td>
<td> Permissive license </td>
</tr>
<tr>
<td></td>
<td>Discuss issues and questions</td>
<td>  Developer forums</td>
</tr>
<tr>
<td></td>
<td>Report issues</td>
<td> Issue reporting tools and triage process</td>
</tr>
<tr>
<td></td>
<td>Browse code</td>
<td> Readable code and docs</td>
</tr>
<tr>
<td></td>
<td>Download and use</td>
<td> Product is released as a package</td>
</tr>
</tbody>
</table>


<p>I highlighted the topic of <strong>extensibility APIs</strong> because that was my key observation about making successful company-owned open-source products. For example, VSCode is a hugely popular product and benefits greatly from the community contribution in the form of extensions. The beauty of this process is, it provides a clear separation of concerns. The core team can focus on their company-mandated work while the community can build and maintain the plugins independently. This also allows the community to contribute without having to understand the complex internals of the core. An extensibility API is useful beyond just for the open-source community.</p>

<p>If you want the community to come and contribute to your open-source project, carefully design the core product with extension points in mind. Then, ensure the ergonomics are great for the extension developers. Give them well-documented and thoughtfully-designed APIs. Ensure that they have automated testing and publishing tools for the plugins. Make the plugins easily discoverable so that users can find and use compatible plugins while using the open-source product.</p>

<p>I have another recommendation. A company-owned open-source product should publish their community engagement strategy for clarity. For example, it&#8217;s better to be upfront if the core team isn&#8217;t ready to accept community code contributions. We should choose a suitable strategy and evolve it over time as the product itself matures.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2021/10/12/ui-sdk-design-principles/">UI SDK Design Principles</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2021-10-12T15:48:00-07:00" pubdate data-updated="true">Oct 12<span>th</span>, 2021</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><img src="/images/ui_sdk_principles.jpg" alt="UI SDK Design Principles" /></p>

<p>At Microsoft, I’ve been working with my team on a multi-platform UI SDK for <a href="https://docs.microsoft.com/en-us/azure/communication-services/">Azure Communication Services</a>. We empower developers to build visually delightful communication experiences (chat, audio-video calling, etc.) for everyone. I’ve participated in numerous design discussions on this UI SDK and I realized many of the things I learned here apply to the domain of UI SDKs beyond just the one we are creating. So, this blog post is an attempt to make a list of design principles that developers of UI SDKs can follow to create a bigger impact out of their work.</p>

<p>Another reason I’m writing this blog post is, writing a UI SDK requires a different mindset than developing a frontend application. While many of us are quite familiar with writing frontend applications and using UI SDKs, very few of us have had the opportunity to write a UI SDK ourselves. This was the case in our team, too. I hope the following list of design principles will help developers see the differences between developing a UI SDK vs. developing a frontend application. In our team, we discovered these principles over time and could’ve saved a bunch of time if we had the foresight that I shared in this blog post.</p>

<p>Let’s get started.</p>

<p><strong>It’s a 4-way journey: UX, UI, API, and DevX.</strong> The output of a UI SDK needs to optimize for all 4 of the above. It must be an eye candy💄to look at so that it inspires developers to want to peek into the API surface. And a seamless DevX is critical to convert the inspired developers to actual users of the UI SDK. UI SDKs must accompany visual documentation, possibly including design assets and rich media where a developer can get a feel for the UX and UI. Better yet, give them interactive documentation using tools such as Storybook and Expo where they can play with the UI SDK without any dev setup. Give them a familiar API that seamlessly maps to the visual documentation. Make it straight forward to download your package and use it within an existing application, or give them starter projects where they can have a fully working app to run a spike using the UI SDK. Reduce frustrations and improve discoverability by letting them use tools such as intellisense or auto-complete suggestions.</p>

<p><strong>Accessible by default.</strong> Because we care and as a developer we must do our part in making the world more inclusive.</p>

<p><strong>Composable.</strong> UI SDKs are used within frontend applications where they may have their own design assets and reusable components. Developers often end up with a mix and match of UI elements from various sources. In addition to visual customizations, the UI SDKs must also take care of namespace isolation so that the properties of one UI element doesn’t inadvertently leak into another one.</p>

<p><strong>Customizable look and feel.</strong> A frontend application can and should be opinionated about its look and feel. However, the target of a UI SDK is to be usable within many such opinionated applications. As a result, UI SDKs need to allow developers to customize the look and feel in many areas such as - branding, theming, colours, typography, layouts, positioning, sizes, styles, text, etc. UI SDKs that render a nesting of UI elements may also need to allow developers to replace some nested UI elements with their own, to fit their unique needs.</p>

<p><strong>Customizable behaviour.</strong> UI SDKs are often involved with handling user and system events. Even if the UI SDK has default “event handlers” for such events, it should allow developers to hook their custom event handling code, potentially discarding the default event handler if needed.</p>

<p><strong>Responsive by default.</strong> Frontend applications run on many different form factors and device capabilities. It’s delightful if the visual output of a UI SDK just works on all devices. That said, it must provide APIs for developers to opt-in or opt-out of default responsive behaviours, e.g. not all applications support landscape orientation, so, even if a UI SDK supports it, the host app may want to opt-out of automated landscape mode for consistency.</p>

<p><strong>Localizable.</strong> While a customizable UI SDK is also localizable, I’m calling this out because a UI SDK must offer standard localization APIs including features such as being able to choose a different locale in addition to the system’s default locale setting.</p>

<p><strong>Backward compatible for both API and UI.</strong> Developers rely on many 3rd-party libraries and SDKs because they want to focus and innovate on their primary business domain. Developers don’t have time to upgrade just because there’s a new version of an SDK is released with improved features. Since we want UI SDK users to use our latest and greatest, we must make it effortless by making both the API and UI backward compatible. In our own experience, we found the UI compatibility to be much harder than API compatibility. Most new API features are non-breaking because existing code works just fine, but even additional changes to the UI can be breaking, for example adding drop-shadow to an element in a UI SDK is a breaking change because it may look out of place in a host app that doesn’t use drop-shadow anywhere else. For this same reason, the change-log for a UI SDK must show both API and visual changes.</p>

<p><strong>Testable.</strong> Testability impacts trustability. Automated testing is specially brittle and costly to maintain at the UI layer. On one hand, UI SDK developers must ensure reliable automated testing across many different devices and screen configurations to be able to maintain developer productivity and high quality releases. On the other hand, app developers that use the UI SDK must be able to write tests for their own use-cases. To enable this, a UI SDK needs to allow mocking and stubbing its dependencies.</p>

<p><strong>Secure by default.</strong> UI SDKs handle user inputs and outputs, and often produce logs so it must be secure by default. There are well known attack vectors that affect the UI such as XSS, various kinds of script injections, session hijacking, and beyond. Since UI SDKs are used within many applications, the attack surface of a vulnerability in a UI SDK can be very large. It’s important for UI SDKs to prioritize the secure by default agenda. Additionally, there must be a process for developers to report security and vulnerability issues. To mitigate against security vulnerabilities, UI SDK dev teams must have a well-defined process of patching and vulnerability disclosure so that app developers can stay in the loop to protect their systems from being compromised.</p>

<p><strong>Scalable.</strong> UI SDKs can be used within applications that deal with a lot of data or backend systems that operate at different levels of speed. As a result, UI SDKs need to be designed with concepts such as async data loading, progress indicators, and optimizing memory usage with paging and appropriate caching. While intelligent defaults work great, UI SDKs still need to expose APIs that allow developers tune such scale related optimizations based on their unique needs.</p>

<p><strong>Robust.</strong> UI SDKs, like any other software applications, will eventually run into exceptions. So, it’s important to design the SDKs such that the blast radius is minimized to avoid a total application crash. Additionally, UI SDKs should provide feedback both visually and through the APIs to allow app developers respond to exceptions in a way that best fits the app’s use-case.</p>

<p><strong>Lean and standalone.</strong> Transitive dependencies are awful for any SDKs, not just UI SDKs. At the UI layer, it’s tempting to take a runtime dependency on an existing package and is often the  preferred way to build frontend applications. But a UI SDK that introduces transitive dependencies may not be usable for developers due to conflicts with their app, the potential bloat, or implications on licensing.</p>

<p><strong>Observable.</strong> Developers need to build metrics and monitors for business and technical analytics. They also need to debug edge cases and report issues with sufficient context so that the UI SDK team can quickly identify and potentially fix the issues. To empower these use-cases, UI SDKs may need to trigger its own events, emit complete stack-traces and meaningful messages with exceptions. It also needs produce logs with varying levels of details for development and production use, of course keeping security and privacy in mind.</p>

<p>I admit that these design principles are not exhaustive and not necessarily ordered by their relative importance. While designing our UI SDK, we’ve come across each of these areas and have made conscious decisions on how to best achieve these goals within our constraints. If you’ve read it up to this point, thank you for your time on this long post and I hope you found it useful.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2021/08/09/onboarding-as-a-new-engineering-manager/">Onboarding as a New Engineering Manager</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2021-08-09T21:26:00-07:00" pubdate data-updated="true">Aug 9<span>th</span>, 2021</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><strong>&#8220;I promise to take care of you&#8221;</strong> - believe it or not, I spent hours to come up with this message to make a first impression as a newly hired manager at Microsoft. Everyone in my team had more context than me. I was a complete newbie, yet their manager. While I had been a manager for several years, I had never started a new job as a manager. I felt super vulnerable. In my previous job, I made an impression as a technical leader before transitioning into an engineering manager. But as a new hire and a manager at Microsoft, it was a brand new experience for me. I was worried. I really wanted to start on a positive note from the get go. I had three weeks in-between jobs and I went back to my favorite leadership books, podcasts and talks for ideas. I took many long walks thinking about a heartfelt message to provide psychological safety to my new team. After many iterations, I eventually came up with that sentence, carefully choosing each word.</p>

<p>Based on the feedback I received, I can tell my obsession on making a great first impression has been very effective. I focused on building trust as my number one priority. I proactively reached out and connected to my team members, my peers, and leaders above me. Following <a href="https://www.radicalcandor.com">radical candor</a> suggestions, I shared a bit of my life story to start the conversation. Then, I actively listened to them, asked for suggestions, and made sure I took notes and always followed up if there was an action item for me.</p>

<p>In this post, I am sharing an actual artifact from my first call with my peer and a fellow engineering manager <a href="https://www.linkedin.com/in/peterhess/">Peter Hess</a>. Peter has over 3 decades of industry experience, and he has been at Microsoft for over 15 years, worked in many key Microsoft products in several countries. During my first one:one with Peter, I shared my screen and asked him to talk about what he does as an engineering manager at Microsoft. It helped me to get a great visual of his job, but more importantly, it helped me understand the expectations of my job as a new hire. Click on &#8220;See the board&#8221; button below to see the output of this hour-long conversation between me and Peter. Even if you are not at Microsoft, I think this mind map shows a pretty well-rounded view of the engineering manager&#8217;s job.</p>

<iframe width="100%" height="561" src="https://miro.com/app/embed/o9J_l3Yog3E=/?pres=1&frameId=3074457362331359883" frameBorder="0" scrolling="no" allowFullScreen></iframe>


<p>Of course, to succeed in a new job as a manager, you need to do more than just creating a first impression. The meta point is, prepare and take leadership in your own onboarding journey. It&#8217;s worth it.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2021/06/18/architecture-realtime/">Software Architecture - Topic 6 - Slack and Microsoft Teams</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2021-06-18T15:23:00-07:00" pubdate data-updated="true">Jun 18<span>th</span>, 2021</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Most applications have a request-response based single-channel data-flow. In such systems, human or software triggered requests are served by software provided responses. For example, when you make your DuckDuckGo search, you initiate a request and their server produces a response back to you. Realtime multiplayer systems are quite different because the pattern of information flow is more complex, often being a two-way or many-to-many data flow, with strict latency constraints. For example, when you chat with a bunch of friends, or join them for a video call, the data-flow is quite different than when you watch a YouTube video.</p>

<p>I found two great talks from the folks at Slack about &#8220;How Slack Works&#8221; and &#8220;Scaling Slack&#8221;. The nice thing about these two talks is they are presented one year apart, and it gives a great view into the challenges with designing a realtime multiplayer system in the first place, and then evolving the design to meet scaling needs. To an aspiring architect, these two talks can provide a real-life example of thinking in terms of evolutionary architecture as a vital tool to strike a balance between upfront and just in time design.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/WE9c9AZe-DY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>




<iframe width="560" height="315" src="https://www.youtube.com/embed/_M-oHxknfnI" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


<p>I also recommend you to check the architecture of Microsoft Teams. The contrast between Slack and Teams design will show you the stark difference between the two approaches. The key difference between the two is Slack was built from scratch, and Teams was built on top of a whole bunch of existing services such as Skype, OneDrive, Sharepoint, etc. As a result of different organizational dynamics, the two products are quite unique in their architecture even though there&#8217;s a major overlap of features offered by both.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/I33pQ9PUHNc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


<p>Once you get a chance to watch these talks, I recommend taking some time to think about the main conceptual design elements of realtime multiplayer systems. For example, patterns of many-to-many communication channels, low latency data-flow, security and access control, etc.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2021/04/23/architecture-mongodb/">Software Architecture - Topic 5 - MongoDB</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2021-04-23T10:19:00-07:00" pubdate data-updated="true">Apr 23<span>rd</span>, 2021</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Continuing on this architecture series of posts. Similar to the <a href="/blog/2021/03/04/architecture-redis/">post on Redis</a>, this time let&#8217;s focus on another hugely popular distributed database
called <a href="https://www.mongodb.com">MongoDB</a>. If you aren&#8217;t familiar with MongoDB, it&#8217;s a distributed database that allows you to store and query humongous amounts of JSON-like data.</p>

<p>To get an overview of MongoDB and its architecture, you can watch the following YouTube video:</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/oH-gQ4JdXQc" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>


<p>Of course, you can also download the <a href="https://www.mongodb.com/collateral/mongodb-architecture-guide">official architecture guide</a> to learn more.
Let&#8217;s focus on rationale behind MongoDB&#8217;s architectural decisions. You can find answers to all of the following questions
if you went through the guide or the video. But my goal is get you to think about the why behind the decisions.</p>

<p>MongoDB has databases and collections. While collections are conceptually parallel to tables in traditional relational databases, MongoDB doesn&#8217;t impose
any restrictions on the schema of a collection. Can you think of reasons behind this decision? What trade-offs come to your mind? For example,
not having a schema allows you to store anything within a collection, essentially reducing the need for schema migrations on very large databases.
But at the same time, it may complicate consumption of the data. What other trade-offs can you think of?</p>

<p>MongoDB uses a router named Mongos and needs config servers to route queries when data is sharded into multiple partitions. What benefits and challenges do you see with the addition of this router component?</p>

<p>MongoDB requires you to have an uneven number of replicas to deal with failover when a new primary node needs to be elected. How do you judge this design decision?</p>

<p>By design, MongoDB allows you to choose a write concern at write time to allow you to balance your need in the <a href="https://en.wikipedia.org/wiki/CAP_theorem">CAP</a> triangle. Can you explain what you must do
 to ensure you&#8217;ll not lose data is 2 out of 3 of your replica servers were to go corrupt?</p>

<p>MongoDB allows you to run complex map-reduce queries in the form of aggregate pipelines. In a distributed database, which component within the MongoDB ecosystem
is responsible for aggregating data that spans multiple nodes?</p>

<p>If you followed the Redis post, what would you say are the top 3 architectural differences between MongoDB and Redis? Can you reason about the why behind the
differences?</p>

<p>Based on MongoDB&#8217;s architecture, where do you see a potential bottleneck that can affect scaling a MongoDB cluster? What can you do to workaround the limitations?</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2021/03/04/architecture-redis/">Software Architecture - Topic 4 - Redis</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2021-03-04T09:39:00-08:00" pubdate data-updated="true">Mar 4<span>th</span>, 2021</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Welcome back to the Software Architecture series. I know at least a few people from my team are following, and that&#8217;s a great encouragement.</p>

<p>For today&#8217;s post, let&#8217;s focus on learning from a very popular and commonly used open-source project called <a href="http://redis.io">Redis</a>. To the developers, Redis is a
dead simple key-value store with a super simple API as follows:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
</pre></td><td class='code'><pre><code class='bash'><span class='line'><span class="nv">$ </span><span class="nb">set </span>today <span class="s1">&#39;Thursday&#39;</span>
</span><span class='line'>OK
</span><span class='line'>
</span><span class='line'><span class="nv">$ </span>get today
</span><span class='line'>Thursday
</span><span class='line'>
</span><span class='line'><span class="nv">$ </span><span class="nb">set </span>temp 20
</span><span class='line'>OK
</span><span class='line'>
</span><span class='line'><span class="nv">$ </span>incr temp
</span><span class='line'>21
</span><span class='line'>
</span><span class='line'><span class="nv">$ </span>incrby temp 3
</span><span class='line'>24
</span><span class='line'>
</span><span class='line'><span class="nv">$ </span>get temp
</span><span class='line'>24
</span></code></pre></td></tr></table></div></figure>


<p>Of course Redis has more advanced features, but not too many. I think Redis is a delightful system. It&#8217;s fun to use and has a reputation for being incredibly fast and scalable. I&#8217;m going to recommend you to spend some time on <a href="https://docs.redislabs.com/latest/rs/concepts/">Redis architecture</a> and see if you understand the concepts to confidently answer the following questions:</p>

<ol>
<li>Why is Redis so fast?</li>
<li>What can you do to prevent data loss when using Redis?</li>
<li>How does Redis distribute its data to multiple nodes?</li>
<li>What happens when you add a new node to a Redis cluster?</li>
<li>What happens when you remove a node from a Redis cluster?</li>
<li>How does Redis allow you to have an even distribution of the data in your cluster?</li>
<li>How can you build resilience using Redis when a whole datacenter fails?</li>
<li>How does a Redis client discover which Redis server to go to?</li>
<li>How do you know if you have enough capacity in your Redis cluster?</li>
<li>How does Redis provide end-to-end encryption?</li>
<li>If a Redis cluster dies, how can you restore it?</li>
<li>What metrics would you use to monitor if your Redis cluster is healthy?</li>
</ol>


<p>My plan is to introduce you to a bunch of open-source systems like Redis and ask similar questions. The idea is, after going through a few of these systems, you&#8217;ll start to see patterns and trade-offs for each. Being familiar with real-world systems and seeing the patterns in use, I hope you&#8217;ll be able pick and choose the patterns that best fit your system requirements, environment, and people.</p>

<p>Happy learning!</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2021/02/19/frontend-engineering/">Can I Have a Career as a Frontend Engineer?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2021-02-19T08:27:00-08:00" pubdate data-updated="true">Feb 19<span>th</span>, 2021</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>In my current role at Microsoft, I&#8217;m working on a UI SDK product. I
hear this concern from some of my team members. More specifically,
here&#8217;s a paraphrased version of what I hear:</p>

<blockquote><p>&#8220;I talked to my friends in software and they told me it&#8217;s better to work
on the backend or full-stack to have a fast-tracked career.&#8221;</p></blockquote>

<p>First, I do agree that there are generally more full-stack or backend
engineering jobs than purely frontend jobs. I also agree that there&#8217;s a
general perception that frontend is easy / bunch of scripts / not real
engineering, yada yada&#8230;</p>

<p>However, I think it&#8217;s a short-sighted view. Let me make my point here.</p>

<p><strong>Let&#8217;s imagine the UI and UX of a familiar product, Google Maps.</strong> You can
use Google Maps on your browser or natively on the phone. You can embed
Google Maps within your own app on these platforms as well. You can ask
Google Maps to give you navigation direction for walking, biking,
driving, or ask it to show realtime transit and traffic infomation. If you
take a detour, it&#8217;ll show you new directions on the fly. You can see the
map view, or the 3D view, or a camera view of a location. At night, you
can see the dark-mode. It&#8217;ll show you how many lanes you have on a road,
and how fast you can legally go, in realtime. It&#8217;ll let you share your location in
realtime with your buddy. You can search using your voice and it&#8217;ll also
give you turn by turn voice guidance. Let&#8217;s not mention avoiding
toll-free roads, u-turns, etc.</p>

<p><strong>I hope you see the engineering challenge I see in the above
paragraph.</strong>
Very few engineers I know can architect a system such as Google Maps.
Since a lot of the engineers choose the path of backend engineering,
it&#8217;s incredibly hard to find frontend engineers who can pull high impact
projects. If you consider yourself above
average, and you probably are if you&#8217;re reading this blog, you should
not follow the path of the average. Instead, if you like building visual
products and obsessing about delighting millions or billions of users,
you can have a very rewarding and fast-paced career in frontend
engineering.</p>

<p><strong>Most of your engineering knowledge is transferrable,</strong> irrespective of
what part of the stack you work on. After all, you&#8217;ll learn to work with
people, delight customers, build systems that are robust, scalable,
secure, compliant, testable&#8230; So, you can move into a different part of
the stack at will as long as your foundation is strong.</p>

<p>Modern frontend engineering is complex, but it&#8217;s powered by innovative
tools. Most of the tooling is open-source and the community is
vibrant with lots of conferences and meetups around the world. As a
frontend engineer, you can create an outsized impact and differentiate
yourself from the masses.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2021/01/17/software-architecture-part-3-writing/">Software Architecture - Topic 3: Writing</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2021-01-17T17:36:00-08:00" pubdate data-updated="true">Jan 17<span>th</span>, 2021</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>An architect first needs to write for herself, and then for her team. Let me explain a bit.</p>

<p>An architect takes the trio of requirements, people, and environment, and does her research to design the most delightful system. In her research process, she uses her past experience as well as the experience of others. Even a moderately complex system design involves a lot of trade-offs without clear winners. For example, given that there are tens of different databases one can choose, how can she recommend a specific one? Only a clear mind can produce a logically sound write-up. So, in the process of writing and rewriting her design rationale, an architect can strengthen the soundness of her own logic behind the choices made. This is also known as covering one&#8217;s ass.</p>

<p>Secondly, an architect is a busy person and can&#8217;t scale her time if she has to personally explain her design rationale to everyone. In fact, as she&#8217;s designing the system and making certain assumptions, she must seek feedback from the team to help her find alternatives or blind-spots. Writing scales infinitely (e.g. J.K. Rowling), and after all, an architect must use a scalable system for herself, right?</p>

<iframe type="text/html" widdatth="336" height="550" frameborder="0" allowfullscreen style="max-width:100%" src="https://read.amazon.ca/kp/card?asin=B07NPN5HTP&preview=inline&linkCode=kpe&ref_=cm_sw_r_kb_dp_TRBbGbF1JZ1FB" ></iframe>




<iframe type="text/html" width="336" height="550" frameborder="0" allowfullscreen style="max-width:100%" src="https://read.amazon.ca/kp/card?asin=B0090RVGW0&preview=inline&linkCode=kpe&ref_=cm_sw_r_kb_dp_cGBbGb41JPT2Z" ></iframe>


<p>In this episode, I have two all time great books to recommend, <a href="https://www.amazon.com/Elements-Style-William-Strunk-Jr/dp/194564401X">The Elements of Style</a> and <a href="https://www.amazon.com/Writing-Well-Classic-Guide-Nonfiction/dp/0060891548/ref=sr_1_1?crid=2CX22WLYQMRQ4&amp;dchild=1&amp;keywords=on+writing+well&amp;qid=1610987519&amp;s=books&amp;sprefix=on+writing+%2Cstripbooks-intl-ship%2C194&amp;sr=1-1">On Writing Well</a>. If you want to learn to write with a fascinating biographic story, I loved <a href="https://www.amazon.com/Writing-Memoir-Craft-Stephen-King/dp/1982159375/ref=pd_sbs_4?pd_rd_w=c3cVk&amp;pf_rd_p=3ec6a47e-bf65-49f8-80f7-0d7c7c7ce2ca&amp;pf_rd_r=4C1CJMPXT72EZ2Z0ZXAB&amp;pd_rd_r=8c477446-3402-4789-8332-0b508abb7812&amp;pd_rd_wg=TmVYV&amp;pd_rd_i=1982159375&amp;psc=1">On Writing (A Memoir of the Craft)</a> by Stephen King. Do yourself a favor and get these books. Even if you are a native English speaker, I recommend you reading these books to make your writing interesting. As you can imagine, these books on writing are fun read, it&#8217;d be quite an irony otherwise.</p>

<p>As promised before, this is my last soft-skills related post in the software architecture series. Only a few senior engineers will break the glass ceiling and become an architect. Fewer will become a great architect. All the great ones I&#8217;ve met had exemplary soft-skills.</p>
</div>
  
  


    </article>
  
  
    <article>
      
  <header>
    
      <h1 class="entry-title"><a href="/blog/2021/01/16/what-drives-me/">What Drives Me?</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2021-01-16T11:05:00-08:00" pubdate data-updated="true">Jan 16<span>th</span>, 2021</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>First, working with good people for a good purpose. Then, moving fast and delivering incrementally. Then, a good business case. And finally, a reasonably modern tech-stack.</p>

<p>Other things, such as pay, promotion and prestige are important, but it doesn’t drive me like the above.</p>

<p>This content is suitable for a Twitter post, but putting it here for long term retention. I want to look back after a few years to see how timeless this drivers are for me.</p>
</div>
  
  


    </article>
  
  <div class="pagination">
    
      <a class="prev" href="/blog/page/2/">&larr; Older</a>
    
    <a href="/blog/archives">Blog Archives</a>
    
  </div>
</div>
<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2021/12/19/2021-to-2022/">2021 → 2022</a>
      </li>
    
      <li class="post">
        <a href="/blog/2021/11/07/open-source-strategy/">Open-source: If You Build it Right, They&#8217;ll Come</a>
      </li>
    
      <li class="post">
        <a href="/blog/2021/10/12/ui-sdk-design-principles/">UI SDK Design Principles</a>
      </li>
    
      <li class="post">
        <a href="/blog/2021/08/09/onboarding-as-a-new-engineering-manager/">Onboarding as a New Engineering Manager</a>
      </li>
    
      <li class="post">
        <a href="/blog/2021/06/18/architecture-realtime/">Software Architecture - Topic 6 - Slack and Microsoft Teams</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>LinkedIn Profile</h1>
  <p>
    <a href="http://www.linkedin.com/in/sohan">SM Sohan</a>
  </p>
</section>

<section>
  <h1>GitHub Repos</h1>
  <ul id="gh_repos">
    <li class="loading">Status updating&#8230;</li>
  </ul>
  
  <a href="https://github.com/smsohan">@smsohan</a> on GitHub
  
  <script type="text/javascript">
    $.domReady(function(){
        if (!window.jXHR){
            var jxhr = document.createElement('script');
            jxhr.type = 'text/javascript';
            jxhr.src = '/javascripts/libs/jXHR.js';
            var s = document.getElementsByTagName('script')[0];
            s.parentNode.insertBefore(jxhr, s);
        }

        github.showRepos({
            user: 'smsohan',
            count: ,
            skip_forks: ,
            target: '#gh_repos'
        });
    });
  </script>
  <script src="/javascripts/github.js" type="text/javascript"> </script>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2021 - SM Sohan -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
